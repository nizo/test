var app,navbar,slider;window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),app={init:function(){return navbar.init(),this.bind_events(),this.init_slider(),this.loop_videos(),this.init_tabs()},bind_events:function(){return this,$(document).on("click",".tab-nav a",(function(e){var t;return e.preventDefault(),t=$(this).closest(".tabs"),$(".tab",t).removeClass("active"),$(".tab-nav a",t).removeClass("active"),$(this).addClass("active"),$(".tab#"+$(this).data("tab"),t).addClass("active")})),$(document).on("click",".form .submit",(function(e){return e.preventDefault(),$(this).parents(".js-form").hasClass("callback")?(console.log("send Callback"),sendCallback($(this).parents(".js-form"))):sendForm($(this).parents(".js-form"))})),$(document).on("click",".openBox",(function(e){var t,r;return e.preventDefault(),$(".SwitchBoxes").toggleClass("hidden"),t=$(this).text(),r=$(this).attr("data-text"),$(this).text(r),$(this).attr("data-text",t)})),$(document).on("click",".container .title",(function(e){return e.preventDefault(),$(this).parent().toggleClass("open"),$(this).next(".content").slideToggle("fast")})),$(document).on("click",".accordion",(function(e){if(e.preventDefault(),$(this).hasClass("open")){if($(this).hasClass("accordion-closeable"))return $(this).removeClass("open"),$(this).children(".content").slideUp("fast")}else if($(".accordion").removeClass("open"),$(this).addClass("open"),$(".accordion .content").slideUp("fast"),$(this).children(".content").slideDown("fast"),$(this).attr("data-link"))return console.log($(this).attr("data-area")),$($(this).attr("data-area")).children().hide(),$($(this).attr("data-area")).children($(this).attr("data-link")).fadeIn()})),$(document).on("click",".footer-menu li span",(function(e){return $(this).closest("li").hasClass("open")?$(this).closest("li").removeClass("open"):($(".footer-menu li").removeClass("open"),$(this).closest("li").addClass("open"))})),$(document).on("click",".mobile-nav .pages-menu .submenu",(function(e){return e.preventDefault(),e.stopPropagation(),$(this).hasClass("submenu-open")?($(this).removeClass("submenu-open"),$(this).next("ul").slideUp("fast")):($(".pages-submenu").slideUp("fast"),$(".pages-menu .submenu-open").removeClass("submenu-open"),$(this).addClass("submenu-open"),$(this).next("ul").slideDown("fast"))})),$(".btn-mobile-nav").on("click",(function(e){return e.preventDefault(),$(this).parent().next(".mobile-nav").addClass("open")})),$(".btn-mobile-nav.close").on("click",(function(e){return e.preventDefault(),$(this).parent(".mobile-nav").removeClass("open")})),$('a[href^="#"]').on("click.smoothscroll",(function(e){var t,r;if(e.preventDefault(),r=this.hash)return t=$(r),$("html, body").stop().animate({scrollTop:t.offset().top-94},500,"swing",(function(){})),window.location.hash=r})),$(document).on("click",".showDiv",(function(e){return e.preventDefault(),$(this).next(".selection").toggleClass("active"),$(this).next(".selection").data("toggle"),$(this).next(".selection").hasClass("active")?$(this).next(".selection").slideDown():$(this).next(".selection").slideUp()})),$(document).on("click",".customCheckbox",(function(e){if($(".showField").addClass("active"),$(".showField").hasClass("active"))return $(".showField").fadeIn()})),$(document).on("click",".expertmode",(function(e){var t;return e.preventDefault(),$(this).toggleClass("active"),t=$(this).data("toggle"),$(this).hasClass("active")?($(".expertmode-on.expertmode-"+t).show(),$(".expertmode-off.expertmode-"+t).hide()):($(".expertmode-on.expertmode-"+t).hide(),$(".expertmode-off.expertmode-"+t).show())})),$(document).on("change",".topic",(function(e){var t,r;return r=$(this).val(),setCookie("co_role","00"+$(this).val(),365),$(".subtopic, .topic-box").hide(),$('.subtopic[data-subtopic="'+r+'"]').show(),t=$('.subtopic[data-subtopic="'+r+'"]').val(),$('.topic-box[data-topic="'+t+'"]').show()})),$(document).on("change",".subtopic",(function(e){var t;return t=$(this).val(),$(".topic-box").hide(),$('.topic-box[data-topic="'+t+'"]').show()})),$(document).on("click",".toggle-box label",(function(e){return $(".toggle-box",$(this).parent().parent()).each((t,r)=>{if(r!==e.currentTarget.parentNode)return $(".toggle-box__content",r).slideUp(),$("input",r).prop("checked",!1)}),$(this).parent().find(".toggle-box__content").slideToggle()})),$(".toggle-box").each((e,t)=>{if($("input",t).prop("checked"))return $(".toggle-box__content",t)[0].style.display="block"}),this.check_for_anchor()},check_for_anchor:function(){var e;if(window.location.hash&&""!==window.location.hash&&(e=$(window.location.hash)))return window.scrollTop=e.offset().top-94},loop_videos:function(){return $.each($("video[data-loop]"),(function(e,t){var r;return r=parseFloat($(this).data("loop")),t.addEventListener("ended",(function(){return this.currentTime=r,this.play()}),!1)}))},init_tabs:function(){return $.each($(".tabs"),(function(e,t){return $(".tab-nav a:eq(0), .tab:eq(0)",$(this)).addClass("active")}))},init_slider:function(){return $.each($(".slider"),(function(e,t){return slider.init($(t))}))}},navbar={bar:document.querySelector(".navbar"),init:function(){return this.adjust(),document.addEventListener("scroll",(e=>this.adjust()).bind(this))},adjust:function(){if(this.bar)return window.scrollY>0?this.bar.classList.add("scrolled"):this.bar.classList.remove("scrolled")}},slider={slider:"",slides_box:"",slides:"",slider_height:0,slide_width:0,current_slide:0,init:function(e){return this.slider=e,this.slides_box=$(".slides",this.slider),this.slides=$(".slide",this.slider),this.get_slider_height(),this.init_slider_nav(),this.slide_width=$(this.slides[0]).outerWidth(),this.bind_events(),$(this.slides[0]).addClass("active"),$(this.slides[1]).addClass("active"),$(this.slides[2]).addClass("active")},bind_events:function(){var e;return e=this,$(window).resize((function(){return $(".slider .slide").css("width",$(".slider").outerWidth()/3+"px"),e.get_slider_height()}))},get_slider_height:function(){var e;return 173,e=this,$.each(this.slides,(function(t,r){if($(r).outerHeight()>e.slider_height)return e.slider_height=$(r).outerHeight()})),this.slider.css("height",this.slider_height+173+"px"),$(".slide-content",this.slider).css("height",this.slider_height+"px")},init_slider_nav:function(){var e,t,r;for(t=0,r=[];t<this.slides.length-2;)this,(e=$("<div class='btn-slider-nav' data-slide='"+t+"'></div>")).on("click",(function(e){var t,r;return slider=$(this).closest(".slider"),t=$(this).data("slide"),r=$(".slider").outerWidth()/3,$(".slides",slider).animate({left:t*r*-1+"px"},300),$(".btn-slider-nav",slider).removeClass("active"),$(".btn-slider-nav:eq("+t+")",slider).addClass("active"),$(".slide",slider).removeClass("active"),$(".slide:eq("+t+")",slider).addClass("active"),$(".slide:eq("+(t+1)+")",slider).addClass("active"),$(".slide:eq("+(t+2)+")",slider).addClass("active")})),0===t&&e.addClass("active"),$(".slider-navigation",this.slider).append(e),r.push(t++);return r}},$(document).ready((function(){var e,t,r,i,s,n,o,a,c,l;return app.init(),document.querySelectorAll(".customer-slider").forEach((function(e){var t,r,i,s;return i=1,s=e.querySelectorAll(".customer-slider__slide").length,t=e.querySelector(".customer-slider__arrow--left"),r=e.querySelector(".customer-slider__arrow--right"),e.querySelector(".customer-slider__slide:nth-child("+i+")").classList.add("customer-slider__slide--active"),t.addEventListener("click",(function(t){return e.querySelectorAll(".customer-slider__slide").forEach((function(e){return e.classList.remove("customer-slider__slide--active")})),0===--i&&(i=s),e.querySelector(".customer-slider__slide:nth-child("+i+")").classList.add("customer-slider__slide--active")})),r.addEventListener("click",(function(t){return e.querySelectorAll(".customer-slider__slide").forEach((function(e){return e.classList.remove("customer-slider__slide--active")})),++i>s&&(i=1),e.querySelector(".customer-slider__slide:nth-child("+i+")").classList.add("customer-slider__slide--active")}))})),a=function(e){var t;return(t=e.getBoundingClientRect()).top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},document.querySelectorAll(".tabset").forEach((function(e){var t;return e.querySelector(".tabset__tab:first-of-type").classList.add("tabset__tab--active"),e.querySelector(".tabset__link:first-of-type").classList.add("tabset__link--active"),t=e.querySelectorAll(".tabset__link"),window.addEventListener("scroll",(function(t){var r;if(r=e.querySelector(".tabset__tab:first-of-type .tabset__video video"),a(r)&&r.paused)return r.currentTime=0,r.loop=!0,r.muted=!0,r.play()})),t.forEach((function(t){return t.addEventListener("click",(function(r){var i;return e.querySelector(".tabset__tab--active").classList.remove("tabset__tab--active"),e.querySelector(".tabset__link--active").classList.remove("tabset__link--active"),e.querySelector('.tabset__tab[data-tab="'+t.dataset.tab+'"]').classList.add("tabset__tab--active"),e.querySelector('.tabset__link[data-tab="'+t.dataset.tab+'"]').classList.add("tabset__link--active"),(i=e.querySelector(".tabset__tab--active .tabset__video video")).currentTime=0,i.loop=!0,i.muted=!0,i.play()}),!1)}))})),document.querySelectorAll(".compare").forEach((function(e){var t;return(t=e.querySelector(".compare__switch input")).checked?e.querySelector('.compare__content[data-compare="on"]').classList.add("compare__content--active"):e.querySelector('.compare__content[data-compare="off"]').classList.add("compare__content--active"),t.addEventListener("change",(function(t){return e.querySelector('.compare__content[data-compare="off"]').classList.toggle("compare__content--active"),e.querySelector('.compare__content[data-compare="on"]').classList.toggle("compare__content--active")}),!1)})),s=1,document.querySelectorAll(".pricetoggle__button").length>0&&(document.querySelector('.pricetoggle__button[data-pricebox="'+s+'"]').classList.add("pricetoggle__button--active"),document.querySelector('.pricetoggle__stickybutton[data-pricebox="'+s+'"]').classList.add("pricetoggle__stickybutton--active"),document.querySelectorAll('.pricetoggle__content[data-pricebox="'+s+'"]').forEach((function(e){return e.classList.add("pricetoggle__content--active")})),document.querySelectorAll(".pricetoggle__button").forEach((function(e){return e.addEventListener("click",(function(t){return document.querySelector('.pricetoggle__button[data-pricebox="'+s+'"]').classList.remove("pricetoggle__button--active"),document.querySelector('.pricetoggle__stickybutton[data-pricebox="'+s+'"]').classList.remove("pricetoggle__stickybutton--active"),document.querySelectorAll('.pricetoggle__content[data-pricebox="'+s+'"]').forEach((function(e){return e.classList.remove("pricetoggle__content--active")})),s=e.dataset.pricebox,document.querySelector('.pricetoggle__button[data-pricebox="'+s+'"]').classList.add("pricetoggle__button--active"),document.querySelector('.pricetoggle__stickybutton[data-pricebox="'+s+'"]').classList.add("pricetoggle__stickybutton--active"),document.querySelectorAll('.pricetoggle__content[data-pricebox="'+s+'"]').forEach((function(e){return e.classList.add("pricetoggle__content--active")}))}),!1)})),document.querySelectorAll(".pricetoggle__stickybutton").forEach((function(e){return e.addEventListener("click",(function(t){return document.querySelector('.pricetoggle__button[data-pricebox="'+e.dataset.pricebox+'"]').click()}))})),window.addEventListener("scroll",(function(e){var t,r,i;return i=document.querySelector(".pricetoggle__buttons"),t=document.getElementById("preise"),r=document.querySelector(".pricetoggle__sticky"),i.offsetTop-window.scrollY<0&&window.scrollY<t.offsetHeight+t.offsetTop-window.innerHeight/2?r.classList.add("pricetoggle__sticky--active"):r.classList.remove("pricetoggle__sticky--active")}))),25,500,document.querySelectorAll(".usercalc").length>0&&document.querySelectorAll(".usercalc").forEach((function(e){var t,r,i,s,a,c,l,d,u,h;return h=e.querySelector(".usercalc__users"),c=e.querySelector(".usercalc__price"),s=e.querySelector(".usercalc__form"),l=e.querySelector(".usercalc__result"),d=e.querySelectorAll(".usercalc__submit"),slider=e.querySelector(".usercalc__slider input"),u=e.querySelector(".usercalc__total span"),t=e.querySelector("#callcenter-software"),r=e.querySelector(".usercalc__callcenter"),i=247.5,a=!1,slider.addEventListener("input",(function(e){return h.value=parseInt(this.value),c.innerHTML=n(parseInt(this.value)),i=o(parseInt(this.value))}),!1),h.addEventListener("change",(function(e){var t;return(t=parseInt(this.value))<25||t>500?(h.value=25,slider.value=25,c.innerHTML=n(25),i=o(25)):(slider.value=t,c.innerHTML=n(this.value),i=o(this.value))})),t.addEventListener("change",(function(e){return a=this.checked})),d.forEach((function(e){return e.addEventListener("click",(function(e){var t;return e.preventDefault(),s.classList.toggle("usercalc__form--inactive"),l.classList.toggle("usercalc__result--active"),a?r.classList.add("usercalc__callcenter--active"):r.classList.remove("usercalc__callcenter--active"),t=Math.round(100*i)/100,u.innerHTML=t.toString().replace(".",",")+" &euro;"}))}))})),o=function(e){var t;return t=9.9,e>=50&&(t=8.9),e>=250&&(t=7.9),t*e},n=function(e){var t;return t="9,90 &euro;",e>=50&&(t="8,90 &euro;"),e>=250&&(t="7,90 &euro;"),t},"chrome",i="chrome",(i=-1!==navigator.userAgent.indexOf("Edg")||-1!==navigator.userAgent.indexOf("Edge")?"edge":-1!==navigator.userAgent.indexOf("Chrome")?"chrome":-1!==navigator.userAgent.indexOf("Firefox")?"firefox":-1!==navigator.userAgent.indexOf("MSIE")||!0==!!document.documentMode?"edge":"chrome")&&(t=document.querySelector('.installation__browser[data-browser="'+i+'"]'),r=document.querySelector('.installation__button[data-browser="'+i+'"]'),e=document.querySelector('.browsers__browser[data-browser="'+i+'"]'),t&&r&&(t.classList.add("installation__browser--active"),r.classList.add("installation__button--active")),e&&e.classList.add("browsers__browser--active")),document.querySelectorAll(".installation__browser").forEach((function(e){return e.addEventListener("click",(function(t){var r,s,n;if(t.preventDefault(),r=e.getAttribute("data-browser"),i!==r)return i=r,s=document.querySelector(".installation__browser--active"),n=document.querySelector(".installation__button--active"),s&&n&&(s.classList.remove("installation__browser--active"),n.classList.remove("installation__button--active")),document.querySelector('.installation__browser[data-browser="'+r+'"]').classList.add("installation__browser--active"),document.querySelector('.installation__button[data-browser="'+r+'"]').classList.add("installation__button--active")}))})),c=document.querySelectorAll(".scroller"),l=0,c.forEach((function(e){var t,r,i,s,n,o,a,d,u,h,_,v,p,f,m;if((e=c[l]).style.height=e.dataset.height+"px",m=e.dataset.height,v=e.querySelector(".scroller-belt"),(p=v.offsetHeight)>0){for(f=!1,e.hasAttribute("data-reversed")&&(f=!0),u=m,o=p,s=0;u>=o;)u-=o,s++;for(s++,h=v.innerHTML,d=0;d<s;)v.innerHTML+=h,d++;n=0,f&&(n=p),i=40,t=null,r=!1}return _=function(){var e;if(!r)return e=i/24,f?(n-=e)<=0&&(n=p):(n+=e)>=p&&(n=0),v.style.marginTop="-"+n+"px"},e.addEventListener("mouseenter",(function(e){return r=!0}),!1),e.addEventListener("mouseleave",(function(e){return r=!1}),!1),(a=function(){return clearInterval(t),window.innerWidth<=800?(n=f?p:0,v.style.marginTop="-"+n+"px"):t=setInterval(_,1e3/24)})(),window.addEventListener("resize",(function(e){return a()})),l++}))}));
var sendCallback=function(e){var a=new FormData(e[0]),n=a.get("type"),o=null;if(null!==n){switch(n){case"0":o={type:n,aid:"callone_cfcd208495d565ef66e7dff9f98764da",callback_key:"58e6f511a00324c208628ae903d7f2f0",phonenumber:a.get("phonenumber")}}""!=o.phonenumber&&$.ajax({method:"POST",url:"https://connect.callone.io/backend/callback.php",dataType:"json",data:o,success:function(a){console.log(a),a.error?(console.log(a.error),$("#"+a.error).addClass("error")):($(e).hide(),$(e).next(".formSuccess").fadeIn(),dataLayer.push({_event:"formSubmit",event:"formSubmit"}),3!=n&&4!=n&&dataLayer.push({event:"Lead",eventCategory:"Lead",eventAction:"Callback Modal",eventLabel:o.phonenumber}))},error:function(e){console.log(e)},fail:function(e){console.log(e)}})}};
class Modal{constructor(t,e=null,i=null,a=0){this.classPrefix="callone-modal",this.modalButton=t,this.modalName=e||this.getModalName(),this.originalModalName=this.modalName,this.modalData=i,this.modalDelay=a,this.defaultClosetext="Schließen",this.modal=null,this.modalWrapper=null,this.modalHeader=null,this.modalTitle=null,this.modalSubtitle=null,this.modalSteptitle=null,this.modalSteps=null,this.modalStepIndicators=null,this.modalContent=null,this.modalFooter=null,this.modalCloseButton=null,this.modalStepbackButton=null,this.activeStep=null,this.fileLoading=!1,this.modalButton?this.modalButton.addEventListener("click",this.getModal.bind(this)):setTimeout(this.getModal.bind(this),this.modalDelay)}getModalName(){return this.modalButton&&this.modalButton.hasAttribute("data-openmodal")?this.modalButton.dataset.openmodal:null}setModalData(){this.modalButton&&this.modalButton.getAttribute("data-modaldata")?this.modal.setAttribute("data-modaldata",this.modalButton.getAttribute("data-modaldata")):this.modalData&&this.modal.setAttribute("data-modaldata",this.modalData)}runModalScripts(){let modalScripts=this.modal.querySelectorAll("script");modalScripts.forEach(script=>{if(script.hasAttribute("src")){let t=document.createElement("script");t.setAttribute("src",script.getAttribute("src")),script.parentNode.insertBefore(t,script),script.remove()}eval(script.textContent)})}getModal(t=new MouseEvent("click")){if(t.preventDefault(),this.modal=document.querySelector('[data-modal="'+this.modalName+'"]'),this.modal)this.openModal();else{if(this.fileLoading)return;this.fileLoading=!0,this.loadModalFromFile()}}openModal(){this.initModal(),this.setModalData(),document.body.classList.add(this.classPrefix+"--scrolllock"),this.runModalScripts(),$(this.modal).css("display","flex").hide().fadeIn(300),this.modal.classList.add(this.classPrefix+"--open")}closeModal(){$(this.modal).fadeOut(300,()=>{document.body.classList.remove(this.classPrefix+"--scrolllock"),this.modal.classList.remove(this.classPrefix+"--open"),this.modalSteps.length>1&&(this.activeStep=this.modalSteps[0],this.switchStep()),"fallback-modal"==this.modalName&&this.resetModal()})}resetModal(){this.modal.remove(),this.modalName=this.originalModalName,this.modal=null,this.modalWrapper=null,this.modalHeader=null,this.modalTitle=null,this.modalSubtitle=null,this.modalSteptitle=null,this.modalSteps=null,this.modalStepIndicators=null,this.modalContent=null,this.modalFooter=null,this.modalCloseButton=null,this.modalStepbackButton=null,this.activeStep=null,this.fileLoading=!1}loadModalFromFile(){fetch("/partials/modals/"+this.modalName+".php",{method:"GET",headers:{"Content-Type":"text/plain; charset=UTF-8"}}).then(t=>{if(!t.ok)throw new Error(t.statusText+" - "+t.url);return t.text()}).then(t=>{let e=document.createElement("div");e.innerHTML=t,this.modal=e.querySelector("."+this.classPrefix),document.body.appendChild(this.modal),this.openModal()}).catch(t=>{console.log("Modal could not be loaded from file, opening fallback modal"),this.modal=null,this.modalName="fallback-modal",this.modal=this.createNode("div",[this.classPrefix]),this.modal.setAttribute("data-modal",this.modalName),this.modal.setAttribute("data-title","Ups..."),this.modal.setAttribute("data-subtitle","Etwas ist schiefgelaufen"),this.modal.innerHTML='<p class="centered">Leider ist beim öffnen etwas schiefgelaufen. Bitte versuchen Sie es später noch einmal oder kontaktieren Sie uns.</p><p><a href="/kontakt" class="btn btn--primary btn--centered">Jetzt Kontakt aufnehmen</a></p>',document.body.appendChild(this.modal),this.openModal()})}initModal(){this.modal&&!this.modal.getAttribute("initialized")&&(this.modal.setAttribute("initialized",!0),this.createModalWrapper(),this.createModalContent(),this.modalSteps.length>0&&(this.activeStep=this.modalSteps[0]),this.createModalHeader(),this.createModalCloseButton(),this.createModalTitle(),this.handleNextButtons(),this.handleFormSubmits(),this.modal.innerHTML="",this.modal.appendChild(this.modalWrapper),this.modal.addEventListener("mousedown",(t=>{this.modal==t.target&&this.closeModal()}).bind(this)))}createModalWrapper(){this.modalWrapper=this.modal.querySelector("."+this.classPrefix+"__wrapper"),this.modalWrapper||(this.modalWrapper=this.createNode("div",[this.classPrefix+"__wrapper"]))}createModalHeader(){this.modalHeader=this.modal.querySelector("."+this.classPrefix+"__header"),this.modalHeader||(this.modalHeader=this.createNode("div",[this.classPrefix+"__header"])),this.modalWrapper.appendChild(this.modalHeader)}createModalCloseButton(){this.modalCloseButton=this.modal.querySelector("."+this.classPrefix+"__headerbutton--close"),this.modalCloseButton||(this.modalCloseButton=this.createNode("div",[this.classPrefix+"__headerbutton",this.classPrefix+"__headerbutton--close"])),this.modalCloseButton.textContent=this.modal.getAttribute("data-canceltext")||this.defaultClosetext,this.activeStep&&this.activeStep.hasAttribute("data-canceltext")&&(this.modalCloseButton.textContent=this.activeStep.getAttribute("data-canceltext")),this.modalCloseButton.addEventListener("click",this.closeModal.bind(this)),this.modalHeader.appendChild(this.modalCloseButton)}updateModalCloseButton(){this.modalCloseButton&&(this.modalCloseButton.textContent=this.modal.getAttribute("data-canceltext")||this.defaultClosetext),this.activeStep&&this.activeStep.hasAttribute("data-canceltext")&&(this.modalCloseButton.textContent=this.activeStep.getAttribute("data-canceltext"))}createModalTitle(){this.modalTitle=this.modal.querySelector("."+this.classPrefix+"__title"),this.modalTitle||(this.modalTitle=this.createNode("div",[this.classPrefix+"__title"])),this.modalSteps.length>0?(this.createModalSteptitle(),this.createModalStepIndicators(),this.activeStep.classList.add(this.classPrefix+"__step--active"),this.createGoBackButton(),this.createModalFooter()):(this.modalTitle.innerHTML=this.modal.getAttribute("data-title"),this.createModalSubtitle()),this.modalHeader.appendChild(this.modalTitle)}createModalSubtitle(){this.modalSubtitle=this.modal.querySelector("."+this.classPrefix+"__subtitle"),this.modalSubtitle||(this.modalSubtitle=this.createNode("span",[this.classPrefix+"__subtitle"])),this.modalSubtitle.textContent=this.modal.getAttribute("data-subtitle"),this.modalTitle.appendChild(this.modalSubtitle)}createModalFooter(){this.modalFooter=this.modal.querySelector("."+this.classPrefix+"__footer"),this.modalFooter||(this.modalFooter=this.createNode("div",[this.classPrefix+"__footer"])),this.populateModalFooter(),this.modalWrapper.appendChild(this.modalFooter)}populateModalFooter(){if(this.modalFooter.innerHTML="",this.modalFooter.classList.remove(this.classPrefix+"__footer--hidden"),this.activeStep.hasAttribute("data-no-footer")||!this.activeStep.hasAttribute("data-next-step"))return void this.modalFooter.classList.add(this.classPrefix+"__footer--hidden");let t=this.activeStep.querySelector("form");if(t){let e=t.querySelector('input[type="submit"]').id,i=["btn","btn--primary","btn--centered",this.classPrefix+"__submit"];if(this.activeStep.getAttribute("data-next-button-classes")){this.activeStep.getAttribute("data-next-button-classes").split(",").forEach(t=>i.push(t.trim()))}let a=this.createNode("label",i);a.textContent=this.activeStep.getAttribute("data-next-button-text")||"Abschicken",a.setAttribute("for",e),this.modalFooter.appendChild(a)}else{let t=this.createNode("a",["btn","btn--secondary","btn--centered",this.classPrefix+"__nextstep"]);t.textContent=this.activeStep.getAttribute("data-next-button-text")||"Weiter",t.addEventListener("click",this.nextStep.bind(this)),this.modalFooter.appendChild(t)}}createGoBackButton(){this.modalStepbackButton=this.modal.querySelector("."+this.classPrefix+"__headerbutton--back"),this.modalStepbackButton||(this.modalStepbackButton=this.createNode("div",[this.classPrefix+"__headerbutton",this.classPrefix+"__headerbutton--back",this.classPrefix+"__headerbutton--hidden"])),this.modalStepbackButton.textContent="Schritt zurück",this.modalStepbackButton.addEventListener("click",this.prevStep.bind(this)),this.modalHeader.appendChild(this.modalStepbackButton)}createModalSteptitle(){this.modalSteptitle=this.modal.querySelector("."+this.classPrefix+"__steptitle"),this.modalSteptitle||(this.modalSteptitle=this.createNode("div",[this.classPrefix+"__steptitle"])),this.activeStep.getAttribute("data-steptitle")?this.modalSteptitle.textContent=this.activeStep.getAttribute("data-steptitle"):this.modalSteptitle.textContent="Schritt "+(this.activeStep.getAttribute("data-step-indicator")||this.activeStep.getAttribute("data-step-id")),this.modalTitle.appendChild(this.modalSteptitle)}createModalStepIndicators(){if(this.modalStepIndicators=this.modal.querySelector("."+this.classPrefix+"__step-indicators"),this.activeStep.getAttribute("data-step-indicator")){this.modalStepIndicators||(this.modalStepIndicators=this.createNode("div",[this.classPrefix+"__step-indicators"])),this.modalStepIndicators.innerHTML="";let t=this.activeStep.getAttribute("data-step-indicator").split("/"),e=parseInt(t[0]),i=parseInt(t[1]);for(let t=1;t<=i;t++){let i=[this.classPrefix+"__step-indicator"];t==e&&i.push(this.classPrefix+"__step-indicator--active"),t<e&&i.push(this.classPrefix+"__step-indicator--past");let a=this.createNode("div",i);this.modalStepIndicators.appendChild(a)}this.modalTitle.appendChild(this.modalStepIndicators)}else this.modalStepIndicators&&(this.modalStepIndicators.innerHTML="")}createModalContent(){this.modalContent=this.modal.querySelector("."+this.classPrefix+"__content"),this.modalContent||(this.modalContent=this.createNode("div",[this.classPrefix+"__content"])),this.modalContent.innerHTML=this.modal.innerHTML,this.modalSteps=this.modalContent.querySelectorAll("."+this.classPrefix+"__step"),this.modalWrapper.appendChild(this.modalContent)}checkForNoScroll(){this.activeStep.hasAttribute("data-step-noscroll")?(this.modalContent.classList.add(this.classPrefix+"__content--scrolllock"),this.setCalendlyHeight()):this.modalContent.classList.remove(this.classPrefix+"__content--scrolllock")}setCalendlyHeight(){let t=this.activeStep.querySelector(".calendly-inline-widget");if(t){let e=.8*window.innerHeight-this.modalHeader.offsetHeight+"px";window.innerWidth<=830&&(e="calc("+(window.innerHeight-this.modalHeader.offsetHeight)+"px - 60px)"),t.style.height=e}window.onresize=this.setCalendlyHeight.bind(this)}handleNextButtons(){let t=this.modalContent.querySelectorAll("."+this.classPrefix+"__nextstep");t.length>0&&t.forEach(t=>{t.addEventListener("click",this.nextStep.bind(this))})}handleFormSubmits(){let t=this.modalContent.querySelectorAll("form");t.length>0&&t.forEach(t=>{t.addEventListener("submit",this.submitStep.bind(this))})}toggleBackButton(){this.activeStep.hasAttribute("data-no-back")||this.activeStep==this.modalSteps[0]?this.modalStepbackButton.classList.add(this.classPrefix+"__headerbutton--hidden"):this.modalStepbackButton.classList.remove(this.classPrefix+"__headerbutton--hidden")}showActiveStep(){this.modalSteps.forEach(t=>{t.classList.remove(this.classPrefix+"__step--active")}),this.activeStep.classList.add(this.classPrefix+"__step--active")}nextStep(t){t.preventDefault();let e=this.activeStep.getAttribute("data-next-step");t.currentTarget&&t.currentTarget.hasAttribute("data-next-step")&&(e=t.currentTarget.getAttribute("data-next-step")),this.activeStep=this.getStepById(e),this.switchStep()}prevStep(){let t=this.activeStep.getAttribute("data-prev-step");this.activeStep=this.getStepById(t),this.switchStep()}switchStep(){this.createModalStepIndicators(),this.checkForNoScroll(),this.showActiveStep(),this.updateModalCloseButton(),this.createModalSteptitle(),this.toggleBackButton(),this.populateModalFooter()}submitStep(t){t.preventDefault(),t.target.hasAttribute("data-step-callback")&&"function"==typeof window[t.target.getAttribute("data-step-callback")]?window[t.target.dataset.stepCallback](t,this.nextStep.bind(this,t)):this.nextStep(t)}getStepById(t){let e=this.activeStep;return this.modalSteps.forEach(i=>{i.getAttribute("data-step-id")==t&&(e=i)}),e}createNode(t,e){let i=document.createElement(t);return e.forEach(t=>i.classList.add(t)),i}}let modalButtons=document.querySelectorAll("[data-openmodal]");modalButtons.forEach(t=>{new Modal(t)});
class Carddeck{constructor(t){this.deck=t,this.currentCard=0,this.speed=parseInt(this.deck.dataset.speed)||2e3,this.allCards=Array.from(this.deck.querySelectorAll(".carddeck__card")),this.cardCount=this.allCards.length,this.duplicateCards(),this.wrapCardContent(),this.cardSize=this.getCardSize(),this.cards=this.initCards(),this.indicators=this.initIndicators(),respondToVisibility(this.deck,t=>{t?(this.resizeDeck(),this.deckInterval=setInterval(this.switch.bind(this),this.speed)):clearInterval(this.deckInterval)}),window.addEventListener("resize",(t=>{this.resizeDeck()}).bind(this))}resizeDeck(){this.cardSize=this.getCardSize(),this.cards.style.height=this.cardSize+"px",this.allCards.forEach(t=>t.style.height=this.cardSize+"px"),this.indicators.style.height=this.cardSize+"px"}wrapCardContent(){this.allCards.forEach(t=>{t.innerHTML="<div>"+t.innerHTML+"</div>"})}initCards(){let t=document.createElement("div");return t.classList.add("carddeck__cards"),t.style.height=this.cardSize+"px",this.allCards.forEach(t=>t.style.height=this.cardSize+"px"),this.allCards.forEach((e,d)=>{0==d?e.classList.add("carddeck__card--top"):1==d?e.classList.add("carddeck__card--center"):2==d?e.classList.add("carddeck__card--bottom"):e.classList.add("carddeck__card--hidden"),t.appendChild(e)}),this.deck.innerHTML="",this.deck.appendChild(t),t}duplicateCards(){this.allCards.length<4&&(this.allCards.forEach(t=>{let e=t.cloneNode(!0);this.allCards.push(e)}),this.allCards.length<4&&this.duplicateCards())}initIndicators(){let t=document.createElement("div");t.classList.add("carddeck__indicators"),t.style.height=this.cardSize+"px";for(let e=0;e<this.cardCount;e++){let d=document.createElement("div");d.classList.add("carddeck__indicator"),0==e&&d.classList.add("carddeck__indicator--active"),t.appendChild(d)}return this.deck.appendChild(t),t}getElementHeight(t){let e=t.cloneNode(!0);e.style.position="absolute",document.body.appendChild(e);let d=e.offsetHeight;return e.remove(),d}getCardSize(){if(this.deck.getAttribute("data-height"))return this.allCards.forEach(t=>t.classList.add("carddeck__card--messured")),parseInt(this.deck.getAttribute("data-height"));let t=0;return this.cards&&(this.cards.style.height=""),this.allCards.forEach(e=>{e.style.height="",e.classList.remove("carddeck__card--messured");let d=e.offsetHeight;d>t&&(t=d),e.classList.add("carddeck__card--messured")}),t}switch(){this.currentCard++;let t=this.allCards.length;this.currentCard>=t&&(this.currentCard=0);let e=((this.currentCard+2)%t+t)%t,d=this.allCards[e];d.classList.remove("carddeck__card--hidden");let a=this.cards.querySelector(".carddeck__card--bottom"),s=this.cards.querySelector(".carddeck__card--center"),r=this.cards.querySelector(".carddeck__card--top");this.cards.appendChild(d),d.classList.add("carddeck__card--bottom"),a.classList.toggle("carddeck__card--bottom"),a.classList.toggle("carddeck__card--center"),s.classList.toggle("carddeck__card--center"),s.classList.toggle("carddeck__card--top");let c=new CustomEvent("trigger",{detail:{visible:!0}});s.querySelectorAll("*").forEach(t=>{t.dispatchEvent(c)}),r.classList.toggle("carddeck__card--top"),r.classList.toggle("carddeck__card--fade"),setTimeout(()=>{r.classList.remove("carddeck__card--fade"),r.classList.add("carddeck__card--hidden")},610),this.indicators.querySelector(".carddeck__indicator--active").classList.remove("carddeck__indicator--active");let i=this.currentCard;this.currentCard>=this.cardCount&&(i-=this.cardCount),1==this.cardCount&&(i=0),this.indicators.querySelectorAll(".carddeck__indicator")[i].classList.add("carddeck__indicator--active")}}document.addEventListener("DOMContentLoaded",t=>{document.querySelectorAll(".carddeck").forEach(t=>{new Carddeck(t)})});
var user={},nextStep=".step1",thisStep=".step0",err={status:!1,step:null,errMSG:"Es trat ein Fehler auf! Bitte probieren SIe es zu einem späteren Zeitpunkt noch einmal."};$(".conversation .interrest .customRadiobox").on("click",(function(){var e="";if(user){var t=$(this).parent().find("input:radio");$.each(t,(function(t,s){if($(s).parent().hasClass("checked"))return e=$(s).val(),!1})),e&&(checkCookie("co_pud")&&(user=JSON.parse(decodeURIComponent(decode(getCookie("co_pud"))))),user.interrest=e,setCookie("co_pud",encode(encodeURIComponent(JSON.stringify(user))),90))}})),$(".conversation.chat .customRadiobox").on("click",(function(){if($(nextStep).find("input:radio").is(":checked"));else if(err.status){$(thisStep).find(".progress-bar").addClass("start");e="valueProgress"+thisStep.substr(1,thisStep.length-1);animateValue(e,$("#"+e).attr("data-from"),$("#"+e).attr("data-to"),450)}else{$(nextStep).find(".progress-bar").addClass("start");var e="valueProgress"+nextStep.substr(1,nextStep.length-1);animateValue(e,$("#"+e).attr("data-from"),$("#"+e).attr("data-to"),450)}})),$(".conversation.chat .customCheckbox").on("click",(function(){if($(nextStep).find(".customCheckbox").hasClass("checked"));else if(err.status){$(thisStep).find(".progress-bar").addClass("start");e="valueProgress"+thisStep.substr(1,thisStep.length-1);animateValue(e,$("#"+e).attr("data-from"),$("#"+e).attr("data-to"),450)}else{$(nextStep).find(".progress-bar").addClass("start");var e="valueProgress"+nextStep.substr(1,nextStep.length-1);animateValue(e,$("#"+e).attr("data-from"),$("#"+e).attr("data-to"),450)}})),$(".nextStep").on("click",(function(){nextStep="."+$(this).attr("data-show-step"),thisStep="."+$(this).attr("data-hide-step"),err={status:!1,step:null,errMSG:"Es trat ein Fehler auf! Bitte probieren Sie es zu einem späteren Zeitpunkt noch einmal."};var e=$(thisStep).find("input,textarea,select").filter("[required]:visible"),t=$(thisStep).find("input:radio"),s=$(thisStep).find("input:checkbox");if($(this).hasClass("return"));else{if(t.length>0&&$.each(t,(function(e,t){if($(t).parent().hasClass("checked")){switch((err=!1).step=null,$(t).attr("name")){case"interrest":user.interrest=$(t).val();break;case"connections":user.connection=$(t).val()}return!1}err.status=!0,err.step=thisStep,err.errMSG="Bitte treffen Sie eine Auswahl!"})),s.length>0){var r=0;$.each(s,(function(e,t){if($(t).parent().hasClass("checked"))switch((err=!1).step=null,$(t).attr("data-name")){case"functions":0===r&&(user.functions="",r=1),user.functions+=$(t).val()+";"}else err.status=!0,err.step=thisStep,err.errMSG="Bitte treffen Sie mind. eine Auswahl!"}))}$.each(e,(function(e,t){$(t).css("border-color","inherit"),""!==$(t).val()||$(t).hasClass("iE")?err.status||(err.status=!1,err.step=null):($(t).css("border-color","red"),err.status=!0,err.step=thisStep)}))}if(err.status)$(thisStep).find(".errorMSG").html(err.errMSG),$(thisStep).find(".errorMSG").fadeIn("fast");else{if($(thisStep).find(".errorMSG").hide(),$(thisStep).addClass("goAway"),".result"==nextStep){var a=user.functions.split(";");$(".projectElements").children("li").removeClass("show"),$.each(a,(function(e,t){""!==t&&$("."+t).addClass("show")})),user.connection<10?$(".time > span").html("Einige Stunden"):user.connection>250?$(".time > span").html("1-2 Personentage"):$(".time > span").html("1 Personentag"),$("body").addClass("grey"),setTimeout((function(){$(".bg-height").css("height",$(nextStep).outerHeight()+2250),scrollTo(nextStep,0),$(nextStep).css("display","initial"),$(nextStep).removeClass("goAway"),$(nextStep).addClass("go")}),750),window._mfq.push(["Preiskalkulator-"+nextStep,"/preiskalkulator?step="+nextStep]),window.dataLayer=window.dataLayer||[],window.dataLayer.push({_event:"Preiskalkulator",event:"Preiskalkulator",eventCategory:"Preiskalkulator",eventAction:"ViewNextStep",eventLabel:"Ergebnisseite"})}else{".result"==thisStep&&$("body").removeClass("grey"),setTimeout((function(){$(".bg-height").css("height",$(nextStep).outerHeight()+350),scrollTo(nextStep,0),$(nextStep).css("display","initial"),$(nextStep).removeClass("goAway"),$(nextStep).addClass("go")}),750),window._mfq.push(["Preiskalkulator-"+nextStep,"/preiskalkulator?step="+nextStep]);var n="";switch(n="."===nextStep.charAt(0)?nextStep.substring(1):nextStep){case"step1":n="Segment";break;case"step2":n="Anschlüsse";break;case"step3":n="Funktionen"}window.dataLayer=window.dataLayer||[],window.dataLayer.push({_event:"Preiskalkulator",event:"Preiskalkulator",eventCategory:"Preiskalkulator",eventAction:"ViewNextStep",eventLabel:n})}setCookie("co_pud",encode(encodeURIComponent(JSON.stringify(user))),90)}}));
class CountingNumbers{constructor(t){this.element=t,this.speed=1e3,this.suffix=this.element.dataset.suffix||"",this.start=parseInt(this.element.dataset.start),this.end=parseInt(this.element.dataset.end),this.current=this.start,this.step=this.calculateStep(),this.running=!1,this.element.addEventListener("trigger",t=>{this.reset(),this.isInView()}),window.addEventListener("scroll",this.isInView.bind(this))}isInView(){this.position=this.element.getBoundingClientRect(),this.position.top>=0&&this.position.bottom<=window.innerHeight?this.running||(this.update(),this.count(),this.running=!0):this.reset()}reset(){this.running=!1,this.current=this.start,this.update()}calculateStep(){return Math.abs(this.start-this.end)/(this.speed/30)}count(){this.start<this.end?(this.current+=this.step,this.current>this.end&&(this.current=this.end)):(this.current-=this.step,this.current<this.end&&(this.current=this.end)),this.update(),this.current!=this.end?setTimeout(this.count.bind(this),1e3/30):this.running=!1}update(){this.element.textContent=Math.round(this.current)+this.suffix}}document.addEventListener("DOMContentLoaded",t=>{document.querySelectorAll(".counting-number").forEach(t=>{new CountingNumbers(t)})});
!function(a){var t,e=[],i=!1,n=!1,d={interval:250,force_process:!1},o=a(window);function r(){n=!1;for(var i=0;i<e.length;i++){var d=a(e[i]).filter((function(){return a(this).is(":appeared")}));if(d.trigger("appear",[d]),t){var o=t.not(d);o.trigger("disappear",[o])}t=d}}a.expr[":"].appeared=function(t){var e=a(t);if(!e.is(":visible"))return!1;var i=o.scrollLeft(),n=o.scrollTop(),d=e.offset(),r=d.left,s=d.top;return s+e.height()>=n&&s-(e.data("appear-top-offset")||0)<=n+o.height()&&r+e.width()>=i&&r-(e.data("appear-left-offset")||0)<=i+o.width()},a.fn.extend({appear:function(t){var o=a.extend({},d,t||{}),s=this.selector||this;if(!i){var l=function(){n||(n=!0,setTimeout(r,o.interval))};a(window).scroll(l).resize(l),i=!0}return o.force_process&&setTimeout(r,o.interval),e.push(s),a(s)}}),a.extend({force_appear:function(){return!!i&&(r(),!0)}})}(jQuery),
/*!
 * jQuery doTimeout: Like setTimeout, but better! - v1.0 - 3/3/2010
 * http://benalman.com/projects/jquery-dotimeout-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
function(a){var t={},e=Array.prototype.slice;function i(i){var n,d=this,o={},r=i?a.fn:a,s=arguments,l=4,f=s[1],u=s[2],c=s[3];function p(){i?n.removeData(i):f&&delete t[f]}function $(){o.id=setTimeout((function(){o.fn()}),u)}if("string"!=typeof f&&(l--,f=i=0,u=s[1],c=s[2]),i?(n=d.eq(0)).data(i,o=n.data(i)||{}):f&&(o=t[f]||(t[f]={})),o.id&&clearTimeout(o.id),delete o.id,c)o.fn=function(a){"string"==typeof c&&(c=r[c]),!0!==c.apply(d,e.call(s,l))||a?p():$()},$();else{if(o.fn)return void 0===u?p():o.fn(!1===u),!0;p()}}a.doTimeout=function(){return i.apply(window,[0].concat(e.call(arguments)))},a.fn.doTimeout=function(){var a=e.call(arguments),t=i.apply(this,["doTimeout"+a[0]].concat(a));return"number"==typeof a[0]||"number"==typeof a[1]?this:t}}(jQuery),$(".animatedParent").appear(),$(".animatedClick").click((function(){var a=$(this).attr("data-target");if(null!=$(this).attr("data-sequence")){var t=$("."+a+":first").attr("data-id"),e=$("."+a+":last").attr("data-id"),i=t;$("."+a+"[data-id="+i+"]").hasClass("go")?($("."+a+"[data-id="+i+"]").addClass("goAway"),$("."+a+"[data-id="+i+"]").removeClass("go")):($("."+a+"[data-id="+i+"]").addClass("go"),$("."+a+"[data-id="+i+"]").removeClass("goAway")),i++,delay=Number($(this).attr("data-sequence")),$.doTimeout(delay,(function(){if(console.log(e),$("."+a+"[data-id="+i+"]").hasClass("go")?($("."+a+"[data-id="+i+"]").addClass("goAway"),$("."+a+"[data-id="+i+"]").removeClass("go")):($("."+a+"[data-id="+i+"]").addClass("go"),$("."+a+"[data-id="+i+"]").removeClass("goAway")),++i<=e)return!0}))}else $("."+a).hasClass("go")?($("."+a).addClass("goAway"),$("."+a).removeClass("go")):($("."+a).addClass("go"),$("."+a).removeClass("goAway"))})),$(document.body).on("appear",".animatedParent",(function(a,t){var e=$(this).find(".animated"),i=$(this);if(null!=i.attr("data-sequence")){var n=$(this).find(".animated:first").attr("data-id"),d=$(this).find(".animated:last").attr("data-id");$(i).find(".animated[data-id="+n+"]").addClass("go"),n++,delay=Number(i.attr("data-sequence")),$.doTimeout(delay,(function(){if($(i).find(".animated[data-id="+n+"]").addClass("go"),++n<=d)return!0}))}else e.addClass("go")})),$(document.body).on("disappear",".animatedParent",(function(a,t){$(this).hasClass("animateOnce")||$(this).find(".animated").removeClass("go")})),$(window).on("load",(function(){$.force_appear()}));
function setCookie(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var a="expires="+i.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}function getCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}function checkCookie(e){return""!=getCookie(e)}function deleteAllCookies(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var n=e[t],i=n.indexOf("="),a=i>-1?n.substr(0,i):n;"PHPSESSID"!=a&&" cookiebanner-accepted"!=a&&"cookiebanner-accepted"!=a&&(document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT")}}function encode(e){var t="";for(i=0;i<e.length;i++){var n=6^e.charCodeAt(i);t+=String.fromCharCode(n)}return t}function decode(e){var t="";for(i=0;i<e.length;i++){var n=6^e.charCodeAt(i);t+=String.fromCharCode(n)}return t}function animateValue(e,t,n,i){var a=document.getElementById(e);if(a){var o=n-t,c=Math.abs(Math.floor(i/o));c=Math.max(c,50);var r,s=(new Date).getTime()+i;r=setInterval(l,c),l()}function l(){var e=(new Date).getTime(),t=Math.max((s-e)/i,0),c=Math.round(n-t*o);a.innerHTML=c,c==n&&clearInterval(r)}}function scrollTo(e,t){return $("html, body").animate({scrollTop:$(e).offset().top},t),!1}function urlHasParam(e,t){return null==t&&(t=window.location.href),new URL(t).searchParams.get(e)}function addEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function arrayUnique(e){for(var t=e.concat(),n=0;n<t.length;++n)for(var i=n+1;i<t.length;++i)t[n]===t[i]&&t.splice(i--,1);return t}function merge_array(e,t,n){return n?arrayUnique(e.concat(t)):e.concat(t)}if($(".trackedElement").on("click",(function(){$(this).addClass("clicked")})),$(document).ready((function(){$(".form .showDiv").click((function(){$(".form-1 .selection .spinner").fadeIn(),$.post("https://connect.callone.io/backend/phonenumbers.php",{type:0},(function(e,t){if("success"==t){$(".form-1 .selection .spinner").fadeOut("fast");var n="";$(".form-1 .selection").html((function(){for(var t=0;t<e.phonenumbers.length;t++)n+='<label for="'+t+'" class="customCheckbox"><input name="checkboxNumbers" type="checkbox" id="'+t+'" value="'+e.phonenumbers[t].number+'" />',n+=e.phonenumbers[t].number,n+='<span class="checkmark"></span></label>';return n}))}else $(".form-1 .selection").html((function(){return n='<div class="error">Es ist ein Fehler beim laden der Rufnummern aufgetreten! Bitte versuchen Sie es später noch einmal.</div>'}))}))}))})),function(){var e=[["Ich möchte meinen Lieferstatus wissen.","Ihr Pakt wird morgen geliefert​."],["Ich möchte einen Termin buchen​.","Der nächste freie Termin wäre morgen um 11:00 Uhr."],["Ich möchte die Ware zurücksenden.","Den Link zum Rücksendeticket haben wir Ihnen soeben per SMS zugeschickt​."]],t=0,n="",i="1000";if("/callcenter-bot"==window.location.pathname){!function a(){setTimeout((function(){var i,o;i=document.querySelector(".chat-conversation div:nth-child(1)"),o=document.querySelector(".chat-conversation div:nth-child(2)"),t%2==0&&($(".chat-conversation > div:nth-child(1) > .text").text(e[t/2][0]),$(".chat-conversation > div:nth-child(2) > .text").text(e[t/2][1])),i.classList.remove("do-the-slide"),o.classList.remove("do-the-slide2"),i.offsetWidth=i.offsetWidth,o.offsetWidth=o.offsetWidth,"toRight"===n?(n="toLeft",i.style.animationDirection="reverse",o.style.animationDirection="reverse",o.style.animationDelay="inherit"):(n="toRight",i.style.animationDirection="",o.style.animationDirection="",o.style.animationDelay="1s"),i.classList.add("do-the-slide"),o.classList.add("do-the-slide2"),5===t?t=0:t++,a()}),i),i=5e3===i?1e3:5e3}()}}(),$(".sidebar-grid .menu a").on("click",(function(e){e.preventDefault(),e.stopPropagation();var t=$(this).attr("data-link");$(".sidebar-grid .menu li").removeClass("active"),$(this).parent().addClass("active"),$(".sidebar-grid .elements > div").fadeOut(),$(".sidebar-grid .elements > div:nth-child("+t+")").fadeIn()})),$(".modal .sideMenu li").on("click",(function(e){e.preventDefault(),e.stopPropagation();var t=$(this).attr("data-link");if($(this).hasClass("linkTo")){e.preventDefault();var n=$(this).children("a").attr("href");window.localStorage?jQuery.each(wlist,(function(e,t){n+="%20-%20"+t.replace("&","und")+"%0D%0A",console.log(n)})):n+="Keine Wunschthemen gefunden.%0D%0A",$(this).children("a").attr("href",n),window.location.href=n,console.log("wlist:"+wlist)}else e.preventDefault(),e.stopPropagation();$(this).parent().children().removeClass("active"),$(this).addClass("active"),$(".modalBox").hide(),$(".modalBox."+t).fadeIn()})),$(".ccs button.p2").on("click",(function(e){e.preventDefault(),$(".ccs .page1").toggle(),$(".ccs a.p1").attr("data-target","css"),$(".ccs .page2").toggle()})),$(".voip button.p2").on("click",(function(e){e.preventDefault(),$(".voip .page1").toggle(),$(".voip a.p1").attr("data-target","voip"),$(".voip .page2").toggle()})),$(".ccs a.p1").on("click",(function(e){e.preventDefault(),$(".ccs .page1").toggle(),$(".ccs .page2").toggle()})),$(".voip a.p1").on("click",(function(e){e.preventDefault(),$(".voip .page1").toggle(),$(".voip .page2").toggle()})),$(".customCheckbox").on("click",(function(){var e=$(this).children('input[type="checkbox"]');e.prop("checked")?(e.removeAttr("checked"),e.parent().removeClass("checked")):(e.attr("checked","checked"),e.parent().addClass("checked"))})),$(".customRadiobox").on("click",(function(){var e=$(this).children('input[type="radio"]');$(this).closest(".checkboxen").find(".customRadiobox input").removeAttr("checked","checked"),$(this).parent().children(".customRadiobox").removeClass("checked"),e.attr("checked","checked"),e.parent().addClass("checked");var t=$(this).children("input[name='participation']:checked").val(),n=$(this).children("input[name='participation_partner']:checked").val();"nein"===t&&$("input.participant_name").attr("disabled","disabled"),"ja"===t&&$("input.participant_name").removeAttr("disabled"),"nein"===n&&$("input.partner_name").attr("disabled","disabled"),"ja"===n&&$("input.partner_name").removeAttr("disabled")})),$(".optionField").on("click",(function(){var e=$(this).find("input");e.prop("checked")?(e.removeAttr("checked"),e.parent().removeClass("checked")):(e.attr("checked","checked"),e.parent().addClass("checked"))})),checkCookie("wishlist")&&window.localStorage){var wlist=[],listLength=0;if(null!=(wlist=JSON.parse(window.localStorage.getItem("wishlist")))&&(listLength=wlist.length)>0){var note2=$(".modal.wishlist .wish-list");document.contains($(".elements .button-bottom")[0])?(console.log("yes is contains it"),jQuery.each(wlist,(function(e,t){var n=$(".elements .button-bottom > [data-info^='"+t+"']");n.addClass("added"),n.children().html(n.attr("data-add")),note2.append("<li>"+t+'<span class="sl sl-close sl-before relative"></span></li>')}))):jQuery.each(wlist,(function(e,t){note2.append("<li>"+t+'<span class="sl sl-close sl-before relative"></span></li>')})),$("#wishlist .numberOfElements").html(listLength),$("#wishlist").slideDown()}}function loadLazyTracking(e){var t="",n="";if("localhost:3000"===location.hostname?(t="GTM-MZN2XV4",n="UA-20501538-3"):(t="GTM-N5K7C35",n="UA-20501538-2"),function(e,t,n,i,a){e[i]=e[i]||[],e[i].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=t.getElementsByTagName(n)[0],c=t.createElement(n);c.async=!0,c.src="https://www.googletagmanager.com/gtm.js?id="+a,o.parentNode.insertBefore(c,o)}(window,document,"script","dataLayer",t),console.log(e),e){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",n,"auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var i=document.createElement("script");i.async=!0,i.src="https://www.google-analytics.com/analytics.js",document.getElementsByTagName("head")[0].appendChild(i,document.getElementsByTagName("head")[0])}}function respondToVisibility(e,t){var n={root:document.documentElement};new IntersectionObserver((e,n)=>{e.forEach(e=>{t(e.intersectionRatio>0)})},n).observe(e)}$(".menuheader").on("click",(function(){$(this).siblings().toggle(),$(this).toggleClass("open")}));
class Fader{constructor(t){this.fader=t,this.currentItem=0,this.speed=parseInt(this.fader.dataset.speed)||2e3,this.items=this.fader.querySelectorAll(".fader__item"),this.itemSize=this.getItemSize(),this.itemsBox=this.initItems(),this.title=this.initTitle(),this.indicators=[],this.indicatorsBox=this.initIndicators(),this.header=this.initHeader(),respondToVisibility(this.fader,t=>{t?(this.resizeFader(),this.faderInterval=setInterval(this.fade.bind(this),this.speed)):clearInterval(this.faderInterval)}),window.addEventListener("resize",(t=>{this.resizeFader()}).bind(this))}resizeFader(){this.itemSize=this.getItemSize(),this.itemsBox.style.height=this.itemSize+"px",this.items.forEach(t=>t.style.height=this.itemSize+"px")}fade(){this.items[this.currentItem].classList.remove("fader__item--active"),this.indicators[this.currentItem].classList.remove("fader__indicator--active"),this.currentItem++,this.currentItem==this.items.length&&(this.currentItem=0),this.items[this.currentItem].classList.add("fader__item--active"),this.indicators[this.currentItem].classList.add("fader__indicator--active"),this.title.textContent=this.items[this.currentItem].dataset.title||""}initTitle(){let t=document.createElement("div");return t.classList.add("fader__title"),t.textContent=this.items[this.currentItem].dataset.title||"",t}initIndicators(){let t=document.createElement("div");return t.classList.add("fader__indicators"),this.items.forEach((e,i)=>{let s=document.createElement("div");s.classList.add("fader__indicator"),t.appendChild(s),0==i&&s.classList.add("fader__indicator--active"),this.indicators.push(s)}),t}initHeader(){let t=document.createElement("div");return t.classList.add("fader__header"),t.appendChild(this.title),t.appendChild(this.indicatorsBox),this.fader.appendChild(t),t}getElementHeight(t){return t.offsetHeight}getItemSize(){let t=0;return this.items.forEach(e=>{e.style.height="",e.classList.add("fader__item--active");let i=this.getElementHeight(e);i>t&&(t=i),e.classList.remove("fader__item--active"),e.classList.add("fader__item--messured")}),this.items[this.currentItem].classList.add("fader__item--active"),t}initItems(){let t=document.createElement("div");return t.classList.add("fader__items"),t.style.height=this.itemSize+"px",this.items.forEach(e=>{e.style.height=this.itemSize+"px",t.appendChild(e)}),this.fader.innerHTML="",this.fader.appendChild(t),this.items[this.currentItem].classList.add("fader__item--active"),t}}document.addEventListener("DOMContentLoaded",t=>{document.querySelectorAll(".fader").forEach(t=>{new Fader(t)})});
var wishlist=[];localStorage&&(null==(wishlist=JSON.parse(window.localStorage.getItem("wishlist")))&&(wishlist=[]));$(".conversation .checkboxen label").on("click",(function(){$(this).hasClass("chat")||($target=$(this).attr("data-target"),$(".step").hide(),$("."+$target).show())})),$(".button-bottom > button").on("click",(function(e){e.preventDefault(),$(this).toggleClass("added");var t=$(this).attr("data-info");$(this).hasClass("added")?(t&&(console.log(wishlist),wishlist.push(t)),$(this).children().html($(this).attr("data-add")),$(this).parent().append('<div class="arrow-box shortModal" style="display: none;"><strong>'+t+"</strong>Zur Wunschliste hinzugefügt</div>"),$(this).next(".arrow-box").delay("450").fadeIn(),timeoutID=window.setTimeout((function(){var e=$(".button-bottom .arrow-box");e.fadeOut((function(){e.delay(400).remove()}))}),4e3)):(t&&wishlist.splice(wishlist.indexOf(t),1),$(this).children().html($(this).attr("data-base")),$("#wishlist .numberOfElements").html(wishlist.length));if(localStorage){if((void 0!==wishlist||null!=wishlist)&&wishlist.length>0){console.log("wishlist: "+wishlist),window.localStorage.setItem("wishlist",JSON.stringify(wishlist)),$("#wishlist .numberOfElements").html(wishlist.length);var a=$(".modal.wishlist .wish-list");a.empty(),jQuery.each(wishlist,(function(e,t){a.append("<li>"+t+'<span class="sl sl-close sl-before relative"></span></li>')})),setCookie("wishlist","1",90),$("#wishlist").slideDown()}else window.localStorage.removeItem("wishlist"),document.cookie="cookiename='wishlist' ; expires = Thu, 01 Jan 1970 00:00:00 GMT",$("#wishlist").slideUp()}})),$(".js-form .select-selected").on("click",(function(){$(this).toggleClass("active"),$(this).parent(".group").next(".select-hide").toggleClass("active"),$(this).parent(".group").next(".select-hide").hasClass("active")?$(this).parent(".group").next(".select-hide").slideDown("fast"):$(this).parent(".group").next(".select-hide").slideUp("fast")})),$(".select-items .item").on("click",(function(){$(this).parent(".select-items").parent(".customSelect").children(".group").children("label").addClass("fixed"),$(this).parent(".select-items").parent(".customSelect").children(".group").children(".select-selected").html($(this).text()).removeClass("active"),$(this).parent(".select-hide").slideUp("fast"),$(this).parent(".select-hide").removeClass("active")})),$(".js-form input").on("change",(function(){$(this).parent(".group").children("label").addClass("fixed")}));const uploadButton=document.getElementById("fileButton"),fileInfo=document.getElementById("fileInfo"),realInput=document.getElementById("realFile");null!=uploadButton&&null!=realInput&&(uploadButton.addEventListener("click",(function(){realInput.click()})),realInput.addEventListener("change",(function(){const e=realInput.value.split(/\\|\//).pop(),t=e.length>20?e.substr(e.length-20):e;fileInfo.innerHTML=t})));var sendForm=function(e){var t,a=new FormData(e[0]),s=$(e).find('[name="type"]').val(),n=null,i=null;if(null!==s){switch(s){case"0":n={type:s,path:JSON.parse(a.get("path")),email:a.get("email")};break;case"1":if($(e).hasClass("form-1")){console.log("Rufnummern");var l=new Array;$('.customCheckbox input[name="checkboxNumbers"]:checked').length>0&&$('.customCheckbox input[name="checkboxNumbers"]:checked').each((function(){l.push($(this).val())})),console.log(l),n={type:s,register_phonenumbers:l,email:a.get("email"),name:a.get("name"),company:a.get("company")},t="0800 Rufnummern Reservierung",i=n.company}else n={type:s,path:JSON.parse(a.get("path")),issue:a.get("issue"),name:a.get("name"),email:a.get("email")},t="Einfaches Kontaktforumlar",i=n.email;break;case"2":var o="";o=$(e).find("#issue").hasClass("select-selected")?$("#issue").text():$(e).find('[name="issue"]').val();var r,c=[];$(e).hasClass("calcForm")?(r=a.get("employees"),$(e).find("input[name='functions']:checked").each((function(){c.push($(this).val())}))):r=$("#employees").text(),$(e).hasClass("wishlistContactForm")&&window.localStorage&&(c=JSON.parse(window.localStorage.getItem("wishlist"))),n={type:s,path:JSON.parse(a.get("path")),employees:r,issue:o,name:a.get("name"),position:$("#position").text(),company:a.get("company"),phonenumber:a.get("phonenumber"),email:a.get("email"),agents:a.get("agents"),business:a.get("business"),functions:c},a.has("newsletter")&&(n.newsletter=!!$(e).find("[name=newsletter]").attr("checked")),t=$(e).hasClass("calcForm")?"Preis Modal":"Kontaktformular",t=$(e).hasClass("wishlistContactForm")?"Wunschthemen":"Kontaktformular",i=n.company;break;case"3":a.set("type",s),a.set("path",JSON.parse($(e).find('[name="path"]').val())),a.set("issue",$(e).find('[name="issue"]').val()),a.set("name",$(e).find('[name="name"]').val()),a.set("phonenumber",$(e).find('[name="phonenumber"]').val()),a.set("email",$(e).find('[name="email"]').val()),a.set("text",$(e).find('[name="text"]').val()),a.set("file",document.getElementById("realFile").files[0]);break;case"4":a.set("type",s),a.set("path",JSON.parse($(e).find('[name="path"]').val())),a.set("issue",$(e).find('[name="issue"]').val()),a.set("name",$(e).find('[name="name"] ').val()),a.set("url",$(e).find('[name="url"] ').val());break;case"5":a.set("type",s),a.set("email",$(e).find('[name="email"]').val()),a.set("position",$(e).find('[name="position"] ').val());break;case"6":a.set("type",s),a.set("issue",$(e).find('[name="issue"]').val()),a.set("participant_email",$(e).find('[name="participant_email"]').val()),a.set("participant_name",$(e).find('[name="participant_name"]').val()),a.set("participation","ja"==$(e).find('[name="participation"]:checked').val()),"ja"==$(e).find('[name="participation_partner"]:checked').val()?a.set("partner_name",$(e).find('[name="partner_name"]').val()):a.set("partner_name"," ");break;default:return}$(e).find(".error").removeClass("error"),$(e).find(".submit").attr("disabled",!0),"1"==s||"2"==s?$.ajax({method:"POST",url:$(e).hasClass("form-1")?"https://connect.callone.io/backend/phonenumbers.php":"https://connect.callone.io/backend/contact.php",data:n,dataType:"json",success:function(a){a.error?(console.log(a.error),$(e).find("[name="+a.error+"]").addClass("error"),$(e).find(".submit").removeAttr("disabled")):($(e).hide(),$(e).next(".formSuccess").fadeIn(),dataLayer.push({_event:"formSubmit",event:"formSubmit"}),3!=s&&4!=s&&dataLayer.push({_event:"Lead",event:"Lead",eventCategory:"Lead",eventAction:t,eventLabel:i}),window._fbq=window._fbq||[],window._fbq.push(["track","6018846817861",{value:"0.00",currency:"EUR"}]))},error:function(t){console.log(t.error),$(e).hide(),$(e).next(".formFail").fadeIn()},fail:function(t){console.log(t),$(e).hide(),$(e).next(".formFail").fadeIn()}}):$.ajax({url:"https://connect.callone.io/backend/contact.php",cache:!1,type:"POST",data:a,dataType:"json",processData:!1,contentType:!1,success:function(t){t.error?(console.log(t.error),$(e).find("#"+t.error).addClass("error"),$(e).find(".submit").removeAttr("disabled")):($(e).hide(),"nein"==$(e).find('[name="participation"]:checked').val()?($(".animation-3::after").css("bottom","6px"),$(".animation-4::after").css("bottom","6px"),$(e).parent().find(".formSuccess.absage").fadeIn()):"ja"==$(e).find('[name="participation"]:checked').val()?($(".animation-3::after").css("bottom","6px"),$(".animation-4::after").css("bottom","6px"),$(e).next(".formSuccess.zusage").fadeIn()):$(e).next(".formSuccess").fadeIn())},error:function(e){console.log(e.error)},fail:function(e){console.log(e)}})}};
class GridSlider{constructor(i){this.slider=i,this.items=this.slider.querySelectorAll(".grid-slider__item"),this.currentItem=0,this.indicators=null,this.indicatorPoints=[],this.activationWidth=1220,this.speed=3e3,this.sliderInterval=null,this.init(),window.addEventListener("resize",this.init.bind(this))}init(){window.innerWidth<=this.activationWidth?this.active||(this.active=!0,this.items[this.currentItem].classList.add("grid-slider__item--active"),this.initIndicators(),this.sliderInterval=setInterval(this.slide.bind(this),this.speed)):this.active&&(this.active=!1,this.currentItem=0,this.indicators.remove(),this.indicators=null,this.indicatorPoints=[],this.items.forEach(i=>{i.classList.remove("grid-slider__item--measured"),i.classList.remove("grid-slider__item--active")}),this.slider.style.height="",clearInterval(this.sliderInterval),this.sliderInterval=null),this.active&&this.setSliderSize()}initIndicators(){this.indicators=document.createElement("div"),this.indicators.classList.add("grid-slider__indicators"),this.items.forEach((i,t)=>{let s=document.createElement("div");s.classList.add("grid-slider__indicator"),t==this.currentItem&&s.classList.add("grid-slider__indicator--active"),this.indicators.appendChild(s),this.indicatorPoints.push(s)}),this.slider.appendChild(this.indicators)}setSliderSize(){this.slider.style.height="",this.items.forEach(i=>i.classList.remove("grid-slider__item--measured"));let i=0;this.items.forEach(t=>{t.offsetHeight>i&&(i=t.offsetHeight)});this.items.forEach(i=>i.classList.add("grid-slider__item--measured")),this.slider.style.height=i+30+"px"}slide(){this.items.forEach(i=>i.classList.remove("grid-slider__item--active")),this.indicators.querySelector(".grid-slider__indicator--active").classList.remove("grid-slider__indicator--active"),this.currentItem++,this.currentItem>=this.items.length&&(this.currentItem=0),this.items[this.currentItem].classList.add("grid-slider__item--active"),this.indicatorPoints[this.currentItem].classList.add("grid-slider__indicator--active")}}const gridSliders=document.querySelectorAll(".grid-slider");gridSliders.forEach(i=>new GridSlider(i));
$(document).on("click",".benefit-box",(function(e){e.preventDefault(),$(".benefit-description",this).slideToggle()}));
function lazyLoadingCss(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e;var n=document.getElementsByTagName("head")[0];n.parentNode.insertBefore(t,n)}document.addEventListener("DOMContentLoaded",(function(){var e=[].slice.call(document.querySelectorAll("img.lazy")),t=[].slice.call(document.querySelectorAll(".lazyBackground")),n=[].slice.call(document.querySelectorAll(".lazyPicture > source")),o=[].slice.call(document.querySelectorAll(".lazyPoster")),l=!1;const s=function(){!1===l&&(l=!0,setTimeout((function(){e.forEach((function(t){t.style.visibility="hidden",t.getBoundingClientRect().top<=window.innerHeight+300&&t.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(t).display&&(t.src=t.dataset.src,t.srcset=t.dataset.srcset,t.classList.remove("lazy"),t.style.visibility="visible",e=e.filter((function(e){return e!==t})),0===o.length&&0===n.length&&0===e.length&&(document.removeEventListener("scroll",s),window.removeEventListener("resize",s),window.removeEventListener("orientationchange",s)))})),t.forEach((function(e){e.getBoundingClientRect().top<=window.innerHeight&&e.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(e).display&&e.classList.add("visible")})),n.forEach((function(t){t.style.visibility="hidden",t.getBoundingClientRect().top<=window.innerHeight+300&&t.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(t).display&&(t.srcset=t.dataset.srcset,t.parentElement.classList.remove("lazy"),t.style.visibility="visible",n=n.filter((function(e){return e!==t})),0===o.length&&0===n.length&&0===e.length&&(document.removeEventListener("scroll",s),window.removeEventListener("resize",s),window.removeEventListener("orientationchange",s)))})),o.forEach((function(t){t.style.visibility="hidden",t.getBoundingClientRect().top<=window.innerHeight+300&&t.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(t).display&&(t.poster=t.dataset.poster,t.classList.remove("lazyPoster"),t.style.visibility="visible",0===(o=o.filter((function(e){return e!==t}))).length&&0===n.length&&0===e.length&&(document.removeEventListener("scroll",s),window.removeEventListener("resize",s),window.removeEventListener("orientationchange",s)))})),l=!1}),200))};function r(e){if(!(jsFiles.length<0))for(i=0;i<jsFiles.length;i++)if(!("/assets/javascripts/libs/swiper.min.js"!==jsFiles[i]&&window.screen.width<=e)){var t=document.createElement("script");t.src=jsFiles[i],document.body.appendChild(t)}}window.addEventListener?window.addEventListener("load",r(1024),!1):window.attachEvent?window.attachEvent("onload",r(1024)):window.onload=r,document.addEventListener("scroll",s),document.addEventListener("click",s),window.addEventListener("resize",s),window.addEventListener("orientationchange",s),window.addEventListener?window.addEventListener("load",s,!1):window.onload=s}));
$((function(){$("#formMicroSipSubmit").on("click",(function(e){e.preventDefault(),$("#formMicroSipUsername").val().trim().length&&$("#formMicroSipPassword").val().trim().length?($("#formMicroSipSubmit").hide(),$("#formMicroSipHint").html("Bitte warten, Download wird generiert..."),$.ajax({url:"https://connect.callone.io/backend/microsip/ajax.php",cache:!1,type:"POST",data:{mode:"download",username:$("#formMicroSipUsername").val().trim(),password:$("#formMicroSipPassword").val().trim()},dataType:"json",error:function(e){console.error(JSON.stringify(e)),$("#formMicroSipHint").html("Bitte prüfen Sie ihre Anmeldedaten.<br/>Sind diese korrekt, kontaktieren Sie bitte den CallOne Support."),$("#formMicroSipSubmit").show()},success:function(e){if(e.filename){var i=document.createElement("a");if(window.URL&&window.Blob&&"download"in i&&window.atob){var n=function(e,i,n){if(!window.atob||!window.Uint8Array)return null;i=i||"",n=n||512;for(var r=atob(e),t=[],o=0;o<r.length;o+=n){for(var a=r.slice(o,o+n),l=new Array(a.length),d=0;d<a.length;d++)l[d]=a.charCodeAt(d);var m=new Uint8Array(l);t[t.length]=m}return new Blob(t,{type:i})}(e.content,e.mimetype),r=window.URL.createObjectURL(n);i.href=r,i.download=e.filename,i.style.display="none",document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(r),document.body.removeChild(i)}$("#formMicroSipHint").html("Vielen Dank für die Nutzung von CallOne.")}else $("#formMicroSipHint").html("Bitte prüfen Sie ihre Anmeldedaten.<br/>Sind diese korrekt, kontaktieren Sie bitte den CallOne Support."),$("#formMicroSipSubmit").show()}})):$("#formMicroSipHint").html("Bitte prüfen Sie ihre Anmeldedaten.<br/>Sind diese korrekt, kontaktieren Sie bitte den CallOne Support.")}))}));
for(var buttons=document.getElementsByClassName("openModal"),i=0;i<buttons.length;i++)buttons[i].addEventListener("click",(function(){var e,o=$(this).attr("data-modal");e=$(this).attr("data-title");var n=$(this).attr("data-modal-part");displayModal(o,null!=e?e:null,null!=n?n:null)}));if(!1===checkCookie("cookiebanner-accepted")){console.log("cookie banner anzeigen");var x=setTimeout((function(){displayModal("cookiebanner")}),1e3)}function displayModal(e,o,n){var a=document.getElementsByClassName(e)[0],l=document.getElementsByClassName("close");if(null!=a){if(a.style.display="block","priceCalc"===e){$(".formSuccess").hide();a.getElementsByClassName("title-"+n)[0];for(var i=a.getElementsByClassName(n)[0],t=(a.getElementsByClassName("defaultTitle")[0],a.getElementsByClassName("part")),c=0;c<t.length;c++)t[c].style.display="none";i.style.display="flex"}if("video-casestudy-check24"===e){a.querySelectorAll("video").forEach(e=>{e.play()})}setTimeout((function(){$(".inputFields").css("display","block")}),500);a.addEventListener("click",(function(e){e.target==a&&$(a).fadeOut("fast")}));for(c=0;c<l.length;c++)l[c].addEventListener("click",(function(){$(a).fadeOut("fast")}))}}function hideModal(e,o){var n=document.getElementsByClassName(e)[0];switch(o){case"fadeOut":$(n).fadeOut("fast");break;case"slideToggle":$(n).slideToggle("slow");break;default:$(n).fadeOut("fast")}}$(".cookieSubmit").on("click",(function(e){e.preventDefault(),console.log("cookie richtlinien akzeptiert");var o=100;$(this).hasClass("full")?o=111:($("#CookieConf input#marketing").parent().hasClass("checked")&&(o+=10),$("#CookieConf input#extern").parent().hasClass("checked")&&(o+=1)),o>100&&(console.log("loadTracking"),loadLazyTracking(o>101)),o<110&&$.ajax({url:"/libs/count.php",data:{optInActive:"1"},type:"POST",success:function(e){}}),setCookie("cookiebanner-accepted",o,365),checkCookie("co_role")||setCookie("co_role","001",365),hideModal("cookiebanner","slideDown"),hideModal("cookiebanner-config","slideDown")})),$(".cookieDeny").on("click",(function(e){e.preventDefault(),console.log("cookie richtlinien widersprochen"),setCookie("cookiebanner-accepted",100,365),checkCookie("co_role")||setCookie("co_role","001",365),hideModal("cookiebanner","slideDown"),hideModal("cookiebanner-config","slideDown"),deleteAllCookies(),$.ajax({url:"/libs/count.php",data:{optInActive:"1"},type:"POST",success:function(e){}})})),$(".cookieConf").on("click",(function(){console.log("cookie config"),hideModal("cookiebanner","slideToggle"),setTimeout((function(){displayModal("cookiebanner-config")}),1e3)})),$(".cookieBanner").on("click",(function(){console.log("cookie start"),hideModal("cookiebanner-config","slideToggle"),setTimeout((function(){displayModal("cookiebanner")}),1e3)})),window.onload=function(){var e=urlHasParam("om",null);null!=e&&displayModal(e)},"/preise"===window.location.pathname&&!1===checkCookie("eM")&&($("nav.main-nav a").on("click",(function(e){!1===checkCookie("eM")&&(e.preventDefault(),console.log("show Modal before"),displayModal(modalOnExit.modal,modalOnExit.title,modalOnExit.part),setCookie("eM",1,14))})),$("html").mouseleave((function(){!1===checkCookie("eM")&&(console.log("show Modal before exit"),displayModal(modalOnExit.modal,modalOnExit.title,modalOnExit.part),setCookie("eM",1,14))})));
/*
 * @title         Custom Range Slider
 * @author        Maximilian Boll
 * @version       1.1.0
 * @description   A lightweight javascript class that transforms input type range sliders to custom sliders that can be modified in styling
 * @licence       Copyright by CallOne GmbH, all rights reserved
 * @usage         <input type="range" min="0" max="100" step="1" value="25" data-callone-range data-output="#outputId" data-width="100" data-height="100" />
 * @changelog     08. June 2021 (v1.0.0)
 *                   - Initial creation
 *                09. June 2021 (v1.1.0)
 *                   - Fixed wrong progress calculation
 *                   - Added mobile touch support
 *                   - Added key support for output field
 */
class Range{constructor(t){this.classNamespace="callone-range",this.slider=t,this.slider.dataset.initialized&&"true"==this.slider.dataset.initialized||(this.slider.dataset.initialized="true",this.step=100/Math.ceil((this.slider.max-this.slider.min)/this.slider.step),this.sliderStep=this.slider.step,this.slider.step=1,this.size={width:this.slider.dataset.width||480,height:this.slider.dataset.height||25},this.dragging=!1,this.wrapper=document.createElement("div"),this.track=document.createElement("div"),this.thumb=document.createElement("div"),this.active=document.createElement("div"),this.output=null,this.slider.hasAttribute("data-output")&&(this.output=document.querySelector(this.slider.dataset.output)),this.output&&(this.setOutputValue(),this.slider.addEventListener("change",this.setOutputValue.bind(this)),this.output.addEventListener("keyup",this.setProgress.bind(this))),this.wrapper.style.width=this.size.width+"px",this.wrapper.style.height=this.size.height+"px",this.wrap(),this.addTrack(),this.addThumb(),this.addActive(),this.wrapper.addEventListener("click",this.changeProgress.bind(this)),this.wrapper.addEventListener("mousedown",(()=>{this.dragging=!0}).bind(this)),window.addEventListener("mouseup",(()=>{this.dragging=!1}).bind(this)),window.addEventListener("mousemove",(t=>{this.dragging&&this.changeProgress(t)}).bind(this)),this.thumb.addEventListener("touchstart",(()=>{this.dragging=!0}).bind(this),{passive:!0}),window.addEventListener("touchend",(()=>{this.dragging=!1}).bind(this),{passive:!0}),window.addEventListener("touchmove",(t=>{this.dragging&&this.changeProgress(t)}).bind(this),{passive:!0}))}setOutputValue(){this.output.value=parseInt(this.slider.value)}setProgress(t){let e=t.which||t.keyCode,s=parseInt(this.output.value);38!=e&&39!=e||(s%this.sliderStep!=0?s+=Math.ceil(s/this.sliderStep)*this.sliderStep-s:s+=parseInt(this.sliderStep)),40!=e&&37!=e||(s-=parseInt(this.sliderStep)),s%this.sliderStep!=0&&(s=Math.round(s/this.sliderStep)*this.sliderStep);let i=parseInt(this.slider.min),a=parseInt(this.slider.max);s||(s=0),s<i&&(s=i),s>a&&(s=a),this.output.value=s;let h=100/(a-i)*(s-i);this.thumb.style.left=h+"%",this.active.style.width=h+"%",this.slider.value=s;let r=new Event("change");this.slider.dispatchEvent(r)}changeProgress(t){let e=this.wrapper.getBoundingClientRect(),s={x:t.pageX,y:t.pageY};if("touchmove"==t.type){var i=void 0===t.originalEvent?t:t.originalEvent;let e=i.touches[0]||i.changedTouches[0];s.x=e.pageX,s.y=e.pageY}let a=100/e.width*(s.x-e.x);this.slider.dataset.snap&&"true"===this.slider.dataset.snap&&(a-=a%this.step),a<0&&(a=0),a>100&&(a=100),this.thumb.style.left=a+"%",this.active.style.width=a+"%";let h=Math.floor((parseInt(this.slider.max)-parseInt(this.slider.min))*(a/100)+parseInt(this.slider.min));h!==parseInt(this.slider.min)&&h!==parseInt(this.slider.max)&&(h=this.roundToNearestFactor(h,this.sliderStep)),this.slider.value=h;let r=new Event("change");this.slider.dispatchEvent(r)}roundToNearestFactor(t,e){if(t=parseInt(t),0==(e=parseInt(e)))return t;let s=t%e;return 0==s?t:t+e-s}wrap(){this.wrapper.classList.add(this.classNamespace),this.slider.parentNode.insertBefore(this.wrapper,this.slider),this.wrapper.appendChild(this.slider)}addTrack(){this.track.classList.add(this.classNamespace+"__track"),this.wrapper.appendChild(this.track)}addThumb(){this.thumb.classList.add(this.classNamespace+"__thumb"),this.thumb.style.left=this.getProgressInPercent()+"%",this.wrapper.appendChild(this.thumb)}addActive(){this.active.classList.add(this.classNamespace+"__active"),this.active.style.width=this.getProgressInPercent()+"%",this.active.style.backgroundSize=this.size.width+"px 100%",window.onresize=(()=>{this.wrapper.offsetParent&&(this.active.style.backgroundSize=this.wrapper.offsetWidth+"px 100%")}).bind(this),this.wrapper.appendChild(this.active)}getProgressInPercent(){return 100/parseInt(this.slider.max)*(parseInt(this.slider.value)-parseInt(this.slider.min))}}function initRangeSliders(){document.querySelectorAll("[data-callone-range]").forEach(t=>{new Range(t)})}initRangeSliders();
class Mehrwertrechner{constructor(e){this.element=e,this.values={defaultCalls:1e4,defaultAgents:25,minCalls:100,minAgents:10,einspareffektAnruf:30,stundenlohn:30,monateImJahr:12,effizienzgewinn:5,kostenAgent:5e4,erreichbarkeitsSteigerung:20,anrufDauer:3.5},this.columns={anrufdauer:{anrufeProJahr:this.element.querySelector(".saving-calculation__col--anrufdauer .nummer-anrufe"),einspareffektAnruf:this.element.querySelector(".saving-calculation__col--anrufdauer .einspareffekt-anruf"),gesparteSekunden:this.element.querySelector(".saving-calculation__col--anrufdauer .gesparte-sekunden"),gesparteStunden:this.element.querySelectorAll(".saving-calculation__col--anrufdauer .gesparte-stunden"),stundenlohn:this.element.querySelector(".saving-calculation__col--anrufdauer .stundenlohn"),monatlicheEinsparung:this.element.querySelector(".saving-calculation__col--anrufdauer .monatliche-einsparung"),monateImJahr:this.element.querySelector(".saving-calculation__col--anrufdauer .monate-im-jahr"),totalErsparnis:this.element.querySelectorAll(".saving-calculation__col--anrufdauer .total-ersparnis")},agentenauslastung:{anrufeProJahr:this.element.querySelector(".saving-calculation__col--agentenauslastung .nummer-anrufe"),erreichbarkeitsSteigerung:this.element.querySelector(".saving-calculation__col--agentenauslastung .erreichbarkeitssteigerung"),dauerAnruf:this.element.querySelector(".saving-calculation__col--agentenauslastung .dauer-anruf"),mehrAnrufe:this.element.querySelector(".saving-calculation__col--agentenauslastung .mehr-anrufe"),gesparteStunden:this.element.querySelector(".saving-calculation__col--agentenauslastung .gesparte-stunden"),stundenlohn:this.element.querySelector(".saving-calculation__col--agentenauslastung .stundenlohn"),monatlicheEinsparung:this.element.querySelector(".saving-calculation__col--agentenauslastung .monatliche-einsparung"),monateImJahr:this.element.querySelector(".saving-calculation__col--agentenauslastung .monate-im-jahr"),totalErsparnis:this.element.querySelectorAll(".saving-calculation__col--agentenauslastung .total-ersparnis")},personalplanung:{anzahlAgenten:this.element.querySelectorAll(".saving-calculation__col--personalplanung .nummer-agenten"),effizienzgewinn:this.element.querySelectorAll(".saving-calculation__col--personalplanung .effizienzgewinn"),kostenAgent:this.element.querySelector(".saving-calculation__col--personalplanung .kosten-agent"),personalkostenJahr:this.element.querySelector(".saving-calculation__col--personalplanung .personalkosten-jahr"),totalErsparnis:this.element.querySelectorAll(".saving-calculation__col--personalplanung .total-ersparnis")}},this.loader=this.element.querySelector(".atomic-loader"),this.h3=this.element.querySelector(".saving-calculation > h3"),this.h4=this.element.querySelector(".saving-calculation > h4"),this.detailToggles=this.element.querySelectorAll(".saving-calculation__toggle"),this.detailToggles.forEach(e=>e.style.display="none"),this.form=this.element.querySelector(".saving-calculation__form"),this.form.addEventListener("submit",this.submitForm.bind(this)),this.formError=this.form.querySelector(".floating-form__error"),this.formErrorText=this.formError.querySelector("p"),this.formHint=this.form.querySelector(".floating-form__hint"),this.formHintText=this.formHint.querySelector("p"),this.overlay=this.element.querySelector(".saving-calculation__overlay"),this.overlayButton=this.overlay.querySelector(".saving-calculation__overlay-button"),this.inputs={calls:this.form.querySelector('[name="calls"]'),agents:this.form.querySelector('[name="agents"]')},this.inputs.calls.addEventListener("keyup",e=>{this.inputs.calls.value=this.inputs.calls.value.replace(/\D/,""),this.form.querySelector(".floating-form__submit").disabled=!1}),this.inputs.agents.addEventListener("keyup",e=>{this.inputs.agents.value=this.inputs.agents.value.replace(/\D/,""),this.form.querySelector(".floating-form__submit").disabled=!1}),this.overlayButton.addEventListener("click",e=>{this.inputs.calls.focus()})}setDefaultFormValues(){this.inputs.calls.value=this.values.defaultCalls,this.inputs.agents.value=this.values.defaultAgents}removeDefaultFormValues(){this.inputs.calls.value="",this.inputs.agents.value=""}isInputValid(){this.formError.classList.remove("floating-form__error--active"),this.formHint.classList.remove("floating-form__hint--active");let e=parseInt(this.inputs.calls.value),t=parseInt(this.inputs.agents.value);return isNaN(e)||isNaN(t)?(this.formHint.classList.add("floating-form__hint--active"),this.formHintText.textContent="Bitte geben Sie Ihre persönlichen Kennzahlen ein um die mögliche Einsparung zu berechnen.",!1):e<this.values.minCalls?(this.formError.classList.add("floating-form__error--active"),this.formErrorText.textContent="Für die Berechnung müssen mindestens 100 Anrufe eingetragen werden.",!1):t<this.values.minAgents?(this.formError.classList.add("floating-form__error--active"),this.formErrorText.textContent="Für die Berechnung müssen mindestens 10 Agenten eingetragen werden.",!1):(this.inputs.calls.value=e,this.inputs.agents.value=t,!0)}getInput(e){return isNaN(parseInt(this.inputs[e].value))?"calls"==e?this.values.defaultCalls:this.values.defaultAgents:parseInt(this.inputs[e].value)}calculate(){this.columns.anrufdauer.anrufeProJahr.textContent=this.getInput("calls"),this.columns.anrufdauer.einspareffektAnruf.textContent=this.values.einspareffektAnruf+"s";let e=this.getInput("calls")*this.values.einspareffektAnruf;this.columns.anrufdauer.gesparteSekunden.textContent=this.formatNumber(e)+"s";let t=(Math.round(e/60/60*100)/100).toFixed(2);this.columns.anrufdauer.gesparteStunden.forEach(e=>{e.textContent=this.formatNumber(t)+"h"}),this.columns.anrufdauer.stundenlohn.textContent=this.values.stundenlohn+"€";let n=(Math.round(t*this.values.stundenlohn*100)/100).toFixed(2);this.columns.anrufdauer.monatlicheEinsparung.textContent=this.formatNumber(n)+"€",this.columns.anrufdauer.monateImJahr.textContent=this.values.monateImJahr;let a=Math.round(n*this.values.monateImJahr);this.columns.anrufdauer.totalErsparnis.forEach(e=>{e.textContent=this.formatNumber(a)+"€"}),this.columns.agentenauslastung.anrufeProJahr.textContent=this.getInput("calls"),this.columns.agentenauslastung.erreichbarkeitsSteigerung.textContent=this.values.erreichbarkeitsSteigerung+"%";let s=(Math.round(this.getInput("calls")/100*this.values.erreichbarkeitsSteigerung*100)/100).toFixed(2);this.columns.agentenauslastung.dauerAnruf.textContent=this.formatNumber(this.values.anrufDauer),this.columns.agentenauslastung.mehrAnrufe.textContent=this.formatNumber(s);let l=(Math.round(s*this.values.anrufDauer/60*100)/100).toFixed(2);this.columns.agentenauslastung.gesparteStunden.textContent=this.formatNumber(l)+"h",this.columns.agentenauslastung.stundenlohn.textContent=this.values.stundenlohn+"€";let r=(Math.round(l*this.values.stundenlohn*100)/100).toFixed(2);this.columns.agentenauslastung.monatlicheEinsparung.textContent=this.formatNumber(r)+"€",this.columns.agentenauslastung.monateImJahr.textContent=this.values.monateImJahr;let i=Math.round(r*this.values.monateImJahr);this.columns.agentenauslastung.totalErsparnis.forEach(e=>{e.textContent=this.formatNumber(i)+"€"}),this.columns.personalplanung.anzahlAgenten.forEach(e=>{e.textContent=this.getInput("agents")}),this.columns.personalplanung.effizienzgewinn.forEach(e=>{e.textContent=this.values.effizienzgewinn+"%"}),this.columns.personalplanung.kostenAgent.textContent=this.formatNumber(this.values.kostenAgent)+"€";let o=this.getInput("agents")*this.values.kostenAgent;this.columns.personalplanung.personalkostenJahr.textContent=this.formatNumber(o)+"€";let u=Math.round(o/100*this.values.effizienzgewinn);this.columns.personalplanung.totalErsparnis.forEach(e=>{e.textContent=this.formatNumber(u)+"€"}),this.h3.querySelector("span").textContent=this.formatNumber(a+i+u)+"€"}formatNumber(e){return(e=e.toString().replace(".",",")).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}submitForm(e){if(e.preventDefault(),!this.isInputValid())return;let t=document.getElementById("mehrwertrechner-result");$("html, body").animate({scrollTop:$(t).offset().top-150},300),this.loader.classList.remove("atomic-loader--hidden"),this.h3.style.display="none",this.h4.textContent="Berechne Kostensenkungspotential...";let n=this.element.querySelector(".saving-calculation");n.classList.add("saving-calculation--loading"),n.querySelector(".saving-calculation__overlay").style.display="none",this.element.querySelectorAll(".saving-calculation__content").forEach(e=>e.classList.remove("saving-calculation__content--blurred")),this.detailToggles.forEach(e=>e.style.display="block");let a=this.element.querySelector(".saving-calculation__form-grid").querySelectorAll(".co-grid__col");a[0].classList.remove("co-grid__col--12-xs"),a[0].classList.remove("co-grid__col--6-xs"),a[1].style.display="flex",this.calculate(),setTimeout(()=>{this.loader.classList.add("atomic-loader--hidden"),this.h3.style.display="block",this.h4.textContent="Aufschlüsselung des Einsparpotenzials",n.classList.remove("saving-calculation--loading")},2e3)}}const mehrwertrechner=document.getElementById("mehrwertrechner");mehrwertrechner&&new Mehrwertrechner(mehrwertrechner);let savingCalculator=document.querySelector(".saving-calculation");if(savingCalculator){savingCalculator.querySelectorAll(".saving-calculation__toggle").forEach(e=>{e.addEventListener("click",t=>{let n=e.closest(".saving-calculation__col"),a=n.querySelector(".saving-calculation__details"),s=n.querySelector(".saving-calculation__content"),l=n.querySelector(".saving-calculation__calculation");a.classList.toggle("saving-calculation__details--open"),s.classList.toggle("saving-calculation__content--hidden"),l.classList.toggle("saving-calculation__calculation--open"),e.classList.toggle("saving-calculation__toggle--close"),e.classList.toggle("saving-calculation__toggle--open"),e.classList.contains("saving-calculation__toggle--close")?e.textContent="Berechnung ausblenden":e.textContent="Berechnung einblenden"})})}
class Select{constructor(e){if(this.select=e,!this.select.dataset.initialized||"true"!=this.select.dataset.initialized){this.select.dataset.initialized="true",this.wrapper=document.createElement("div"),this.wrapper.classList.add("callone-select"),this.select.parentNode.insertBefore(this.wrapper,this.select),this.wrapper.appendChild(this.select),this.selectLabel=document.createElement("div"),this.selectLabel.classList.add("callone-select__label"),this.selectLabel.innerHTML=this.select.options[0].text,this.wrapper.appendChild(this.selectLabel),this.selected=document.createElement("div"),this.selected.classList.add("callone-select__selected"),this.selected.innerHTML="&nbsp;",this.wrapper.appendChild(this.selected),this.selectOptions=document.createElement("ul"),this.selectOptions.classList.add("callone-select__options");for(let e=1;e<this.select.options.length;e++){let t=this.select.options[e],s=document.createElement("li");s.dataset.value=t.getAttribute("value"),s.classList.add("callone-select__option"),s.innerHTML=t.text,this.selectOptions.appendChild(s),s.addEventListener("click",this.selectValue.bind(this))}this.wrapper.appendChild(this.selectOptions),this.wrapper.addEventListener("click",(e=>{e.stopPropagation(),this.wrapper.classList.toggle("callone-select--open")}).bind(this))}}selectValue(e){let t=e.currentTarget;this.selected.innerHTML="";let s=document.createElement("span");s.textContent=t.textContent,this.selected.appendChild(s);let l=document.createElement("div");l.classList.add("callone-select__clear"),this.selected.appendChild(l),l.addEventListener("click",this.deselectValue.bind(this)),this.selectLabel.classList.add("callone-select__label--active"),this.select.value=t.dataset.value}deselectValue(e){e.stopPropagation();e.currentTarget;for(var t=this.select.options,s=0;s<t.length;s++)t[s].selected=!1;this.selected.innerHTML="&nbsp;",this.selectLabel.classList.remove("callone-select__label--active")}}const selectBoxes=document.querySelectorAll("[data-callone-select]");selectBoxes.forEach(e=>{new Select(e)}),window.addEventListener("click",e=>{document.querySelectorAll(".callone-select").forEach(t=>{t===e.target||t.contains(e.target)||t.classList.remove("callone-select--open")})});
class SmallTab{constructor(t){this.element=t,this.tabLinks=this.element.querySelectorAll(".small-tabs__tab"),this.tabContents=this.element.querySelectorAll(".small-tabs__content"),this.countTabs=this.tabLinks.length,this.tabLinks[0].classList.add("small-tabs__tab--active"),this.tabContents[0].classList.add("small-tabs__content--active"),this.tabLinks.forEach(t=>{t.addEventListener("click",this.switchTab.bind(this))})}switchTab(t){let a=t.currentTarget.dataset.tab;this.tabLinks.forEach(t=>{t.classList.remove("small-tabs__tab--active"),a==t.dataset.tab&&t.classList.add("small-tabs__tab--active")}),this.tabContents.forEach(t=>{t.classList.remove("small-tabs__content--active"),a==t.dataset.tab&&t.classList.add("small-tabs__content--active")})}}let smallTabs=document.querySelectorAll(".small-tabs");smallTabs.forEach(t=>new SmallTab(t));
class stepSlider{constructor(t){this.dragging=!1,this.swiping=!1,this.currentOffset=0,this.slider=t,this.slider.dataset.initialized&&"true"==this.slider.dataset.initialized||(this.slider.dataset.initialized="true",this.steps=this.slider.querySelector(".step-slider__steps"),this.rangeWrapper=this.slider.querySelector(".step-slider__slider"),this.range=this.slider.querySelector(".step-slider__range"),this.allSteps=this.steps.querySelectorAll(".step-slider__step"),this.stepCount=this.allSteps.length,this.handle=this.slider.querySelector(".step-slider__handle"),this.setStepFirstActive(),this.calculateStepsWidth(),this.rangeWrapper.addEventListener("mousedown",(t=>{this.dragging=!0}).bind(this)),window.addEventListener("mouseup",(t=>{this.dragging=!1}).bind(this)),window.addEventListener("mousemove",this.drag.bind(this)),this.rangeWrapper.addEventListener("touchstart",(t=>{this.dragging=!0}).bind(this),{passive:!0}),window.addEventListener("touchend",(t=>{this.dragging=!1,this.swiping=!1}).bind(this),{passive:!0}),window.addEventListener("touchmove",this.drag.bind(this),{passive:!0}),this.steps.addEventListener("touchstart",(t=>{this.swiping=!0;let e=t.touches[0]||t.changedTouches[0];this.lastSwipePos=e.clientX}).bind(this)),window.addEventListener("touchmove",this.swipe.bind(this),{passive:!0}))}setStepFirstActive(){let t=this.allSteps[0];t.classList.add("step-slider__step--active");let e=t.querySelector("img[data-alt-image]");if(e){let t=e.src;e.src=e.dataset.altImage,e.dataset.altImage=t}}calculateStepsWidth(){let t=270*this.stepCount+30*(this.stepCount-1);this.steps.style.width=t+"px"}swipe(t){if(!this.swiping)return!1;let e=(t.touches[0]||t.changedTouches[0]).clientX,s=Math.abs(this.lastSwipePos-e),i=this.slider.getBoundingClientRect(),a=this.steps.getBoundingClientRect(),r=Math.abs(i.width-a.width);this.lastSwipePos>e?(this.currentOffset+=s,this.currentOffset>r&&(this.currentOffset=r)):(this.currentOffset-=s,this.currentOffset<0&&(this.currentOffset=0)),this.steps.style.transform="translateX(-"+this.currentOffset+"px)",this.lastSwipePos=e;let l=100/r*this.currentOffset;this.handle.style.left=l+"%";let d=Math.floor(l/(100/this.stepCount));d>=this.stepCount&&(d=this.stepCount-1),this.allSteps.forEach((t,e)=>{if(t.classList.contains("step-slider__step--active")){t.classList.remove("step-slider__step--active");let e=t.querySelector("img[data-alt-image]");if(e){let t=e.src;e.src=e.dataset.altImage,e.dataset.altImage=t}}if(e==d){t.classList.add("step-slider__step--active");let e=t.querySelector("img[data-alt-image]");if(e){let t=e.src;e.src=e.dataset.altImage,e.dataset.altImage=t}}})}drag(t){if(!this.dragging)return!1;let e=this.range.getBoundingClientRect(),s=this.getMousePosition(t),i=this.handle.offsetWidth/2;s.x-=i;let a=100/e.width*(s.x-e.x);a<0&&(a=0),a>100&&(a=100),this.handle.style.left=a+"%";let r=this.slider.getBoundingClientRect(),l=(this.steps.getBoundingClientRect().width-r.width)*(a/100),d=Math.floor(a/(100/this.stepCount));d>=this.stepCount&&(d=this.stepCount-1),this.allSteps.forEach((t,e)=>{if(t.classList.contains("step-slider__step--active")){t.classList.remove("step-slider__step--active");let e=t.querySelector("img[data-alt-image]");if(e){let t=e.src;e.src=e.dataset.altImage,e.dataset.altImage=t}}if(e==d){t.classList.add("step-slider__step--active");let e=t.querySelector("img[data-alt-image]");if(e){let t=e.src;e.src=e.dataset.altImage,e.dataset.altImage=t}}}),this.currentOffset=l,this.steps.style.transform="translateX(-"+l+"px)"}getMousePosition(t){let e={x:t.pageX,y:t.pageY};if("touchmove"==t.type){var s=void 0===t.originalEvent?t:t.originalEvent;let i=s.touches[0]||s.changedTouches[0];e.x=i.pageX,e.y=i.pageY}return e}}let stepSliders=document.querySelectorAll(".step-slider");stepSliders.forEach(t=>{new stepSlider(t)});
class Tablist{constructor(t){this.tablist=t,this.tabLinksWrapper=this.tablist.querySelector(".tablist__links"),this.tabLinks=this.tablist.querySelectorAll(".tablist__link"),this.tabContents=this.tablist.querySelectorAll(".tablist__content"),this.activeIndex=0,this.tabLinks[this.activeIndex].classList.add("tablist__link--active"),this.tabContents[this.activeIndex].classList.add("tablist__content--active"),this.addArrowButtons(),this.indicators=this.addIndicators(),this.swipeStart=0,this.addSwipeSupport(),this.tabLinks.forEach(t=>t.addEventListener("click",this.switchTab.bind(this))),this.stickyStart=this.tablist.offsetTop-94,this.stickyEnd=this.stickyStart+this.tablist.offsetHeight,this.stickyPlaceholder=this.tabLinksWrapper.cloneNode(),this.stickyPlaceholderActive=!1,window.addEventListener("scroll",this.stickyLinks.bind(this))}stickyLinks(){let t=window.scrollY;this.tablist.offsetTop!=this.stickyStart&&(this.stickyStart=this.tablist.offsetTop-94,this.stickyEnd=this.stickyStart+this.tablist.offsetHeight),this.stickyStart&&this.stickyEnd&&t>=this.stickyStart&&t<=this.stickyEnd?(this.spawnPlaceholder(),this.tabLinksWrapper.classList.add("tablist__links--sticky")):(this.despawnPlaceholder(),this.tabLinksWrapper.classList.remove("tablist__links--sticky"))}spawnPlaceholder(){this.stickyPlaceholderActive||(this.tabLinksWrapper.style.opacity="0",this.stickyPlaceholderActive=!0,this.stickyPlaceholder.classList.add("tablist__sticky-placeholder"),this.stickyPlaceholder.style.visibility="hidden",this.stickyPlaceholder.style.height=this.tabLinksWrapper.offsetHeight+"px",this.tablist.insertBefore(this.stickyPlaceholder,this.tabLinksWrapper))}despawnPlaceholder(){this.stickyPlaceholderActive&&(this.tabLinksWrapper.style.opacity="",this.stickyPlaceholderActive=!1,this.stickyPlaceholder.remove())}addSwipeSupport(){window.innerWidth<=1170?(this.tabLinksWrapper.addEventListener("touchstart",this.handleTouchstart.bind(this)),this.tabLinksWrapper.addEventListener("touchend",this.handleTouchend.bind(this))):(this.tabLinksWrapper.removeEventListener("touchstart",this.handleTouchstart.bind(this)),this.tabLinksWrapper.removeEventListener("touchend",this.handleTouchend.bind(this)))}handleTouchstart(t){let i=t.touches[0]||t.changedTouches[0];this.swipeStart=i.clientX}handleTouchend(t){let i=t.touches[0]||t.changedTouches[0];Math.abs(this.swipeStart-i.clientX)>50&&(this.swipeStart>i.clientX?this.nextTab():this.prevTab())}scrollToTabs(){$("html,body").animate({scrollTop:$(this.tablist).offset().top-100+"px"},300)}switchTab(t){let i=t.currentTarget.dataset.tab;this.tablist.style.minHeight="";this.tabContents[this.activeIndex].offsetHeight;let s=this.tablist.offsetHeight;this.tablist.style.minHeight=s+"px",setTimeout((t=>{this.tablist.style.minHeight="0px"}).bind(this),300),this.tabLinks.forEach((t,s)=>{t.dataset.tab===i?(t.classList.add("tablist__link--active"),this.activeIndex=s):t.classList.remove("tablist__link--active")}),this.tabContents.forEach(t=>{t.style.minHeight="",t.dataset.tab===i?t.classList.add("tablist__content--active"):t.classList.remove("tablist__content--active")}),this.scrollToTabs()}prevTab(){this.activeIndex--,this.activeIndex<0&&(this.activeIndex=this.tabLinks.length-1),this.indicators.forEach(t=>t.classList.remove("tablist__indicator--active")),this.indicators[this.activeIndex].classList.add("tablist__indicator--active"),this.tabLinks.forEach(t=>t.classList.remove("tablist__link--active")),this.tabLinks[this.activeIndex].classList.add("tablist__link--active"),this.tabContents.forEach(t=>t.classList.remove("tablist__content--active")),this.tabContents[this.activeIndex].classList.add("tablist__content--active")}nextTab(){this.activeIndex++,this.activeIndex>=this.tabLinks.length&&(this.activeIndex=0),this.indicators.forEach(t=>t.classList.remove("tablist__indicator--active")),this.indicators[this.activeIndex].classList.add("tablist__indicator--active"),this.tabLinks.forEach(t=>t.classList.remove("tablist__link--active")),this.tabLinks[this.activeIndex].classList.add("tablist__link--active"),this.tabContents.forEach(t=>t.classList.remove("tablist__content--active")),this.tabContents[this.activeIndex].classList.add("tablist__content--active")}addIndicators(){let t=document.createElement("div");t.classList.add("tablist__indicators");let i=[];return this.tabLinks.forEach(s=>{let e=document.createElement("div");e.classList.add("tablist__indicator"),i.push(e),t.appendChild(e)}),this.tablist.insertBefore(t,this.tablist.firstChild),i[0].classList.add("tablist__indicator--active"),i}addArrowButtons(){let t=document.createElement("div");t.classList.add("tablist__arrow"),t.classList.add("tablist__arrow--left"),t.addEventListener("click",this.prevTab.bind(this));let i=document.createElement("div");i.classList.add("tablist__arrow"),i.classList.add("tablist__arrow--right"),i.addEventListener("click",this.nextTab.bind(this));let s=this.tablist.querySelector(".tablist__links");s.insertBefore(t,s.firstChild),s.appendChild(i)}}document.addEventListener("DOMContentLoaded",t=>{document.querySelectorAll(".tablist").forEach(t=>new Tablist(t))});
class Team{constructor(t){this.el=t,this.buttons=this.el.querySelectorAll(".team__button"),this.contents=this.el.querySelectorAll(".team__member"),this.buttons[0].classList.add("team__button--active"),this.contents[0].classList.add("team__member--active"),this.buttons.forEach(t=>t.addEventListener("click",this.switch.bind(this)))}switch(t){let e=t.currentTarget.dataset.member;this.buttons.forEach(t=>{t.dataset.member===e?t.classList.add("team__button--active"):t.classList.remove("team__button--active")}),this.contents.forEach(t=>{t.dataset.member===e?t.classList.add("team__member--active"):t.classList.remove("team__member--active")})}}let teams=document.querySelectorAll(".team");teams.forEach(t=>new Team(t));
class Tooltip{constructor(e){this.element=e,this.content=this.element.querySelector("span"),this.content.classList.add("tooltip__content"),this.enableMouseover=!1,this.element.dataset.mouseover&&"true"==this.element.dataset.mouseover&&(this.enableMouseover=!0),this.detectPosition(),this.element.addEventListener("mouseover",this.show.bind(this)),this.element.addEventListener("mouseleave",this.hide.bind(this))}show(e){this.enableMouseover||e.target===this.element?(this.detectPosition(),this.element.classList.add("tooltip--open")):this.hide()}hide(){this.element.classList.remove("tooltip--open")}detectPosition(){let e=this.element.getBoundingClientRect(),t=window.innerHeight,s=this.element.querySelector("span");this.element.classList.add("tooltip--open");let o=s.getBoundingClientRect();this.element.classList.remove("tooltip--open"),e.y+o.height>t?this.element.classList.add("tooltip--top"):this.element.classList.remove("tooltip--top")}}const tooltips=document.querySelectorAll(".tooltip");tooltips.forEach(e=>{new Tooltip(e)});
class Typing{constructor(t){this.element=t,this.texts=this.element.dataset.texts.split(","),this.colors=Array(this.texts.length),this.colors.fill("currentColor"),this.element.dataset.colors&&(this.colors=this.element.dataset.colors.split(",")),this.currentText=0,this.textIndex=0,this.speed=parseInt(this.element.dataset.speed)||50,this.keepTime=2e3,this.element.textContent="",this.element.style.color=this.colors[this.currentText],this.write()}write(){let t=this.texts[this.currentText],e=t.length;this.textIndex<e?(this.element.textContent+=t.charAt(this.textIndex),this.textIndex++,setTimeout(this.write.bind(this),this.speed)):setTimeout(this.backspace.bind(this),this.keepTime)}backspace(){let t=this.element.textContent,e=t.length;this.textIndex>=0?(this.element.textContent=t.substring(0,e-1),this.textIndex--,setTimeout(this.backspace.bind(this),this.speed)):(this.currentText++,this.currentText>=this.texts.length&&(this.currentText=0),this.element.style.color=this.colors[this.currentText],this.write())}}const texts=document.querySelectorAll(".typing-text");texts.forEach(t=>new Typing(t));