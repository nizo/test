var app,navbar,slider;app={init:function(){return navbar.init(".navbar"),this.bind_events(),this.init_slider(),this.loop_videos(),this.init_tabs()},bind_events:function(){var t;return t=this,$(document).on("click",".tab-nav a",function(t){var e;return t.preventDefault(),e=$(this).closest(".tabs"),$(".tab",e).removeClass("active"),$(".tab-nav a",e).removeClass("active"),$(this).addClass("active"),$(".tab#"+$(this).data("tab"),e).addClass("active")}),$(document).on("click",".form .submit",function(t){return t.preventDefault(),$(this).parents(".js-form").hasClass("callback")?sendCallback($(this).parents(".js-form")):sendForm($(this).parents(".js-form"))}),$(document).on("click",".openBox",function(t){var e,s;return t.preventDefault(),$(".SwitchBoxes").toggleClass("hidden"),e=$(this).text(),s=$(this).attr("data-text"),$(this).text(s),$(this).attr("data-text",e)}),$(document).on("click",".container .title",function(t){return t.preventDefault(),$(this).parent().toggleClass("open"),$(this).next(".content").slideToggle("fast")}),$(document).on("click",".footer-menu li span",function(t){return $(this).closest("li").hasClass("open")?$(this).closest("li").removeClass("open"):($(".footer-menu li").removeClass("open"),$(this).closest("li").addClass("open"))}),$(document).on("click",".mobile-nav .pages-menu .submenu",function(t){return t.preventDefault(),$(this).hasClass("submenu-open")?($(this).removeClass("submenu-open"),$(this).next("ul").slideUp("fast")):($(".pages-submenu").slideUp("fast"),$(".pages-menu .submenu-open").removeClass("submenu-open"),$(this).addClass("submenu-open"),$(this).next("ul").slideToggle("fast"))}),$(document).on("click",".btn-mobile-nav",function(t){return t.preventDefault(),$(".mobile-nav").toggleClass("open")}),$('a[href^="#"]').on("click.smoothscroll",function(t){var e,s;return t.preventDefault(),s=this.hash,e=$(s),$("html, body").stop().animate({scrollTop:e.offset().top},500,"swing",function(){}),window.location.hash=s}),$(document).on("click",".showDiv",function(t){var e;return t.preventDefault(),$(this).next(".selection").toggleClass("active"),e=$(this).next(".selection").data("toggle"),$(this).next(".selection").hasClass("active")?$(this).next(".selection").slideDown():$(this).next(".selection").slideUp()}),$(document).on("click",".customCheckbox",function(t){return $(".showField").addClass("active"),$(".showField").hasClass("active")?$(".showField").fadeIn():void 0}),$(document).on("click",".expertmode",function(t){var e;return t.preventDefault(),$(this).toggleClass("active"),e=$(this).data("toggle"),$(this).hasClass("active")?($(".expertmode-on.expertmode-"+e).show(),$(".expertmode-off.expertmode-"+e).hide()):($(".expertmode-on.expertmode-"+e).hide(),$(".expertmode-off.expertmode-"+e).show())}),$(document).on("change",".topic",function(t){var e,s;return s=$(this).val(),console.log(s),$(".subtopic, .topic-box").hide(),$('.subtopic[data-subtopic="'+s+'"]').show(),e=$('.subtopic[data-subtopic="'+s+'"]').val(),$('.topic-box[data-topic="'+e+'"]').show()}),$(document).on("change",".subtopic",function(t){var e;return e=$(this).val(),$(".topic-box").hide(),$('.topic-box[data-topic="'+e+'"]').show()})},loop_videos:function(){return $.each($("video[data-loop]"),function(t,e){var s;return s=parseFloat($(this).data("loop")),e.addEventListener("ended",function(){return this.currentTime=s,this.play()},!1)})},init_tabs:function(){return $.each($(".tabs"),function(t,e){return $(".tab-nav a:eq(0), .tab:eq(0)",$(this)).addClass("active")})},init_slider:function(){return $.each($(".slider"),function(t,e){return slider.init($(e))})}},navbar={n:"",n_height:0,n_top:0,d_height:0,w_height:0,w_scroll_current:0,w_scroll_before:0,w_scroll_diff:0,init:function(t){return this.n=document.querySelector(t),this.bind_events(),window.pageYOffset>0?$(this.n).addClass("background"):void 0},bind_events:function(){return $(window).scroll(function(t){return navbar.scroll()})},scroll:function(){return this.n_height=this.n.offsetHeight,this.d_height=document.body.offsetHeight,this.w_height=window.innerHeight,this.w_scroll_current=window.pageYOffset,this.w_scroll_diff=this.w_scroll_before-this.w_scroll_current,this.n_top=parseInt(window.getComputedStyle(this.n).getPropertyValue("top"))+this.w_scroll_diff,this.w_scroll_current>=this.n_height&&$(this.n).addClass("background"),0===this.w_scroll_current&&$(this.n).removeClass("background"),this.w_scroll_current<=0?(this.n.style.top="0px",console.log("0px")):this.w_scroll_diff>0?(this.n.style.top=(this.n_top>0?0:this.n_top)+"px",console.log("hochscrollen")):this.w_scroll_diff<0&&(this.w_scroll_current+this.w_height>=this.d_height-this.n_height?(this.n.style.top=((this.n_top=this.w_scroll_current+this.w_height-this.d_height)<0?this.n_top:0)+"px",console.log("runter 1")):(this.n.style.top=(Math.abs(this.n_top)>this.n_height?-this.n_height:this.n_top)+"px",console.log("Unten angekommen"))),this.w_scroll_before=this.w_scroll_current}},slider={slider:"",slides_box:"",slides:"",slider_height:0,slide_width:0,current_slide:0,init:function(t){return this.slider=t,this.slides_box=$(".slides",this.slider),this.slides=$(".slide",this.slider),this.get_slider_height(),this.init_slider_nav(),this.slide_width=$(this.slides[0]).outerWidth(),this.bind_events(),$(this.slides[0]).addClass("active"),$(this.slides[1]).addClass("active"),$(this.slides[2]).addClass("active")},bind_events:function(){var t;return t=this,$(window).resize(function(){return $(".slider .slide").css("width",$(".slider").outerWidth()/3+"px"),t.get_slider_height()})},get_slider_height:function(){var t,e;return e=173,t=this,$.each(this.slides,function(e,s){return $(s).outerHeight()>t.slider_height?t.slider_height=$(s).outerHeight():void 0}),this.slider.css("height",this.slider_height+e+"px"),$(".slide-content",this.slider).css("height",this.slider_height+"px")},init_slider_nav:function(){var t,e,s,i;for(s=0,i=[];s<this.slides.length-2;)e=$("<div class='btn-slider-nav' data-slide='"+s+"'></div>"),t=this,e.on("click",function(t){var e,s;return slider=$(this).closest(".slider"),e=$(this).data("slide"),s=$(".slider").outerWidth()/3,$(".slides",slider).animate({left:e*s*-1+"px"},300),$(".btn-slider-nav",slider).removeClass("active"),$(".btn-slider-nav:eq("+e+")",slider).addClass("active"),$(".slide",slider).removeClass("active"),$(".slide:eq("+e+")",slider).addClass("active"),$(".slide:eq("+(e+1)+")",slider).addClass("active"),$(".slide:eq("+(e+2)+")",slider).addClass("active")}),0===s&&e.addClass("active"),$(".slider-navigation",this.slider).append(e),i.push(s++);return i}},$(document).ready(function(){return app.init()});
var sendCallback=function(e){var a=new FormData(e[0]),n="callone_cfcd208495d565ef66e7dff9f98764da",o="58e6f511a00324c208628ae903d7f2f0",c=a.get("type"),l=null;if(null!==c){switch(c){case"0":l={type:c,aid:n,callback_key:o,phonenumber:a.get("phonenumber")}}""!=l.phonenumber&&$.ajax({method:"POST",url:"https://connect.callone.io/backend/callback.php",dataType:"json",data:l,success:function(a){console.log(a),a.error?(console.log(a.error),$("#"+a.error).addClass("error")):($(e).hide(),$(e).next(".formSuccess").fadeIn(),dataLayer.push({_event:"formSubmit",event:"formSubmit"}),3!=c&&4!=c&&dataLayer.push({event:"Lead",eventCategory:"Lead",eventAction:"Callback Modal",eventLabel:l.phonenumber}))},error:function(e){console.log(e)},fail:function(e){console.log(e)}})}};
!function(a){function t(){d=!1;for(var t=0;t<i.length;t++){var n=a(i[t]).filter(function(){return a(this).is(":appeared")});if(n.trigger("appear",[n]),e){var r=e.not(n);r.trigger("disappear",[r])}e=n}}var e,i=[],n=!1,d=!1,r={interval:250,force_process:!1},o=a(window);a.expr[":"].appeared=function(t){var e=a(t);if(!e.is(":visible"))return!1;var i=o.scrollLeft(),n=o.scrollTop(),d=e.offset(),r=d.left,s=d.top;return s+e.height()>=n&&s-(e.data("appear-top-offset")||0)<=n+o.height()&&r+e.width()>=i&&r-(e.data("appear-left-offset")||0)<=i+o.width()?!0:!1},a.fn.extend({appear:function(e){var o=a.extend({},r,e||{}),s=this.selector||this;if(!n){var f=function(){d||(d=!0,setTimeout(t,o.interval))};a(window).scroll(f).resize(f),n=!0}return o.force_process&&setTimeout(t,o.interval),i.push(s),a(s)}}),a.extend({force_appear:function(){return n?(t(),!0):!1}})}(jQuery),function(a){"$:nomunge";function t(t){function i(){t?r.removeData(t):c&&delete e[c]}function d(){s.id=setTimeout(function(){s.fn()},p)}var r,o=this,s={},f=t?a.fn:a,l=arguments,u=4,c=l[1],p=l[2],$=l[3];if("string"!=typeof c&&(u--,c=t=0,p=l[1],$=l[2]),t?(r=o.eq(0),r.data(t,s=r.data(t)||{})):c&&(s=e[c]||(e[c]={})),s.id&&clearTimeout(s.id),delete s.id,$)s.fn=function(a){"string"==typeof $&&($=f[$]),$.apply(o,n.call(l,u))!==!0||a?i():d()},d();else{if(s.fn)return void 0===p?i():s.fn(p===!1),!0;i()}}var e={},i="doTimeout",n=Array.prototype.slice;a[i]=function(){return t.apply(window,[0].concat(n.call(arguments)))},a.fn[i]=function(){var a=n.call(arguments),e=t.apply(this,[i+a[0]].concat(a));return"number"==typeof a[0]||"number"==typeof a[1]?this:e}}(jQuery),$(".animatedParent").appear(),$(".animatedClick").click(function(){var a=$(this).attr("data-target");if(void 0!=$(this).attr("data-sequence")){var t=$("."+a+":first").attr("data-id"),e=$("."+a+":last").attr("data-id"),i=t;$("."+a+"[data-id="+i+"]").hasClass("go")?($("."+a+"[data-id="+i+"]").addClass("goAway"),$("."+a+"[data-id="+i+"]").removeClass("go")):($("."+a+"[data-id="+i+"]").addClass("go"),$("."+a+"[data-id="+i+"]").removeClass("goAway")),i++,delay=Number($(this).attr("data-sequence")),$.doTimeout(delay,function(){return console.log(e),$("."+a+"[data-id="+i+"]").hasClass("go")?($("."+a+"[data-id="+i+"]").addClass("goAway"),$("."+a+"[data-id="+i+"]").removeClass("go")):($("."+a+"[data-id="+i+"]").addClass("go"),$("."+a+"[data-id="+i+"]").removeClass("goAway")),++i,e>=i?!0:void 0})}else $("."+a).hasClass("go")?($("."+a).addClass("goAway"),$("."+a).removeClass("go")):($("."+a).addClass("go"),$("."+a).removeClass("goAway"))}),$(document.body).on("appear",".animatedParent",function(a,t){var e=$(this).find(".animated"),i=$(this);if(void 0!=i.attr("data-sequence")){var n=$(this).find(".animated:first").attr("data-id"),d=n,r=$(this).find(".animated:last").attr("data-id");$(i).find(".animated[data-id="+d+"]").addClass("go"),d++,delay=Number(i.attr("data-sequence")),$.doTimeout(delay,function(){return $(i).find(".animated[data-id="+d+"]").addClass("go"),++d,r>=d?!0:void 0})}else e.addClass("go")}),$(document.body).on("disappear",".animatedParent",function(a,t){$(this).hasClass("animateOnce")||$(this).find(".animated").removeClass("go")}),$(window).on("load",function(){$.force_appear()});
function setCookie(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"}function getCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie),i=n.split(";"),o=0;o<i.length;o++){for(var r=i[o];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}function checkCookie(e){var t=getCookie(e);return""!=t?!0:!1}function urlHasParam(e,t){null==t&&(t=window.location.href);var n=new URL(t),i=n.searchParams.get(e);return i}function addEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}$(".trackedElement").on("click",function(){$(this).addClass("clicked")}),$(document).ready(function(){$(".form .showDiv").click(function(){$(".form-1 .selection .spinner").fadeIn(),$.post("https://connect.callone.io/backend/phonenumbers.php",{type:0},function(e,t){if("success"==t){$(".form-1 .selection .spinner").fadeOut("fast");var n="";$(".form-1 .selection").html(function(){for(var t=0;t<e.phonenumbers.length;t++)n+='<label for="'+t+'" class="customCheckbox"><input name="checkboxNumbers" type="checkbox" id="'+t+'" value="'+e.phonenumbers[t].number+'" />',n+=e.phonenumbers[t].number,n+='<span class="checkmark"></span></label>';return n})}else $(".form-1 .selection").html(function(){return n='<div class="error">Es ist ein Fehler beim laden der Rufnummern aufgetreten! Bitte versuchen Sie es später noch einmal.</div>'})})})}),function(){function e(){var e=document.querySelector(".chat-conversation div:nth-child(1)"),t=document.querySelector(".chat-conversation div:nth-child(2)");i%2===0&&($(".chat-conversation > div:nth-child(1) > .text").text(n[i/2][0]),$(".chat-conversation > div:nth-child(2) > .text").text(n[i/2][1])),e.classList.remove("do-the-slide"),t.classList.remove("do-the-slide2"),e.offsetWidth=e.offsetWidth,t.offsetWidth=t.offsetWidth,"toRight"===o?(o="toLeft",e.style.animationDirection="reverse",t.style.animationDirection="reverse",t.style.animationDelay="inherit"):(o="toRight",e.style.animationDirection="",t.style.animationDirection="",t.style.animationDelay="1s"),e.classList.add("do-the-slide"),t.classList.add("do-the-slide2"),5===i?i=0:i++}function t(){setTimeout(function(){e(),t()},r),r=5e3===r?1e3:5e3}var n=[["Ich möchte meinen Lieferstatus wissen.","Ihr Pakt wird morgen geliefert​."],["Ich möchte einen Termin buchen​.","Der nächste freie Termin wäre morgen um 11:00 Uhr."],["Ich möchte die Ware zurücksenden.","Den Link zum Rücksendeticket haben wir Ihnen soeben per SMS zugeschickt​."]],i=0,o="",r="1000";"/callcenter-bot"==window.location.pathname&&t()}();
$(".js-form .select-selected").on("click",function(){$(this).toggleClass("active"),$(this).parent(".group").next(".select-hide").toggleClass("active"),$(this).parent(".group").next(".select-hide").hasClass("active")?$(this).parent(".group").next(".select-hide").slideDown("fast"):$(this).parent(".group").next(".select-hide").slideUp("fast")}),$(".select-items .item").on("click",function(){$(this).parent(".select-items").parent(".customSelect").children(".group").children("label").addClass("fixed"),$(this).parent(".select-items").parent(".customSelect").children(".group").children(".select-selected").html($(this).text()),$(this).parent(".select-hide").slideUp("fast"),$(this).parent(".select-hide").removeClass("active")}),$(".js-form input").on("change",function(){$(this).parent(".group").children("label").addClass("fixed")});const uploadButton=document.getElementById("fileButton"),fileInfo=document.getElementById("fileInfo"),realInput=document.getElementById("realFile");null!=uploadButton&&null!=realInput&&(uploadButton.addEventListener("click",function(){realInput.click()}),realInput.addEventListener("change",function(){const e=realInput.value.split(/\\|\//).pop(),t=e.length>20?e.substr(e.length-20):e;fileInfo.innerHTML=t}));var sendForm=function(e){var t,n=new FormData(e[0]),a=$(e).find('[name="type"]').val(),s=null,o=null;if(null!==a){switch(a){case"0":s={type:a,path:JSON.parse(n.get("path")),email:n.get("email")};break;case"1":if($(e).hasClass("form-1")){console.log("Rufnummern");var l=new Array,r=$('.customCheckbox input[name="checkboxNumbers"]:checked').length;r>0&&$('.customCheckbox input[name="checkboxNumbers"]:checked').each(function(){l.push($(this).val())}),console.log(l),s={type:a,register_phonenumbers:l,email:n.get("email"),name:n.get("name"),company:n.get("company")},t="0800 Rufnummern Reservierung",o=s.company}else s={type:a,path:JSON.parse(n.get("path")),issue:n.get("issue"),name:n.get("name"),email:n.get("email")},t="Einfaches Kontaktforumlar",o=s.email;break;case"2":var i="";i=$(e).find("#issue").hasClass("select-selected")?$("#issue").text():$(e).find('[name="issue"]').val(),s={type:a,path:JSON.parse(n.get("path")),employees:$("#employees").text(),issue:i,name:n.get("name"),position:$("#position").text(),company:n.get("company"),phonenumber:n.get("phonenumber"),email:n.get("email")},t="Kontaktformular",o=s.company;break;case"3":n.set("type",a),n.set("path",JSON.parse($(e).find('[name="path"]').val())),n.set("issue",$(e).find('[name="issue"]').val()),n.set("name",$(e).find('[name="name"]').val()),n.set("phonenumber",$(e).find('[name="phonenumber"]').val()),n.set("email",$(e).find('[name="email"]').val()),n.set("text",$(e).find('[name="text"]').val()),n.set("file",document.getElementById("realFile").files[0]);break;case"4":n.set("type",a),n.set("path",JSON.parse($(e).find('[name="path"]').val())),n.set("issue",$(e).find('[name="issue"]').val()),n.set("name",$(e).find('[name="name"] ').val()),n.set("url",$(e).find('[name="url"] ').val());break;default:return}$(e).find(".error").removeClass("error"),$.ajax("3"!=a&&"4"!=a?{method:"POST",url:$(e).hasClass("form-1")?"https://connect.callone.io/backend/phonenumbers.php":"https://connect.callone.io/backend/contact.php",data:s,dataType:"json",success:function(n){n.error?(console.log(n.error),$(e).find("#"+n.error).addClass("error")):($(e).hide(),$(e).next(".formSuccess").fadeIn(),dataLayer.push({_event:"formSubmit",event:"formSubmit"}),3!=a&&4!=a&&dataLayer.push({_event:"Lead",event:"Lead",eventCategory:"Lead",eventAction:t,eventLabel:o}),window._fbq=window._fbq||[],window._fbq.push(["track","6018846817861",{value:"0.00",currency:"EUR"}]))},error:function(t){console.log(t.error),$(e).hide(),$(e).next(".formFail").fadeIn()},fail:function(t){console.log(t),$(e).hide(),$(e).next(".formFail").fadeIn()}}:{url:"https://connect.callone.io/backend/contact.php",cache:!1,type:"POST",data:n,dataType:"json",processData:!1,contentType:!1,success:function(t){t.error?(console.log(t.error),$(e).find("#"+t.error).addClass("error")):($(e).hide(),$(e).next(".formSuccess").fadeIn(),window._fbq=window._fbq||[],window._fbq.push(["track","6018846817861",{value:"0.00",currency:"EUR"}]))},error:function(e){console.log(e.error)},fail:function(e){console.log(e)}})}};
function lazyLoadingCss(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e;var n=document.getElementsByTagName("head")[0];n.parentNode.insertBefore(t,n)}document.addEventListener("DOMContentLoaded",function(){function e(e){if(!(jsFiles.length<0||window.screen.width<=e))for(i=0;i<jsFiles.length;i++){var t=document.createElement("script");t.src=jsFiles[i],document.body.appendChild(t)}}var t=[].slice.call(document.querySelectorAll("img.lazy")),n=[].slice.call(document.querySelectorAll(".lazyBackground")),o=[].slice.call(document.querySelectorAll(".lazyPicture > source")),l=[].slice.call(document.querySelectorAll(".lazyPoster")),s=!1;const d=function(){s===!1&&(s=!0,setTimeout(function(){t.forEach(function(e){e.style.visibility="hidden",e.getBoundingClientRect().top<=window.innerHeight+300&&e.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(e).display&&(e.src=e.dataset.src,e.srcset=e.dataset.srcset,e.classList.remove("lazy"),e.style.visibility="visible",t=t.filter(function(t){return t!==e}),0===l.length&&0===o.length&&0===t.length&&(document.removeEventListener("scroll",d),window.removeEventListener("resize",d),window.removeEventListener("orientationchange",d)))}),n.forEach(function(e){e.getBoundingClientRect().top<=window.innerHeight&&e.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(e).display&&e.classList.add("visible")}),o.forEach(function(e){e.style.visibility="hidden",e.getBoundingClientRect().top<=window.innerHeight+300&&e.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(e).display&&(e.srcset=e.dataset.srcset,e.parentElement.classList.remove("lazy"),e.style.visibility="visible",o=o.filter(function(t){return t!==e}),0===l.length&&0===o.length&&0===t.length&&(document.removeEventListener("scroll",d),window.removeEventListener("resize",d),window.removeEventListener("orientationchange",d)))}),l.forEach(function(e){e.style.visibility="hidden",e.getBoundingClientRect().top<=window.innerHeight+300&&e.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(e).display&&(e.poster=e.dataset.poster,e.classList.remove("lazyPoster"),e.style.visibility="visible",l=l.filter(function(t){return t!==e}),0===l.length&&0===o.length&&0===t.length&&(document.removeEventListener("scroll",d),window.removeEventListener("resize",d),window.removeEventListener("orientationchange",d)))}),s=!1},200))};window.addEventListener?window.addEventListener("load",e(1024),!1):window.attachEvent?window.attachEvent("onload",e(1024)):window.onload=e,document.addEventListener("scroll",d),document.addEventListener("click",d),window.addEventListener("resize",d),window.addEventListener("orientationchange",d),window.addEventListener?window.addEventListener("load",d,!1):window.onload=d});
function displayModal(e){var t=document.getElementsByClassName(e)[0],a=document.getElementsByClassName("close");if(null!=t){t.style.display="block";{setTimeout(function(){$(".inputFields").css("display","block")},500)}t.addEventListener("click",function(e){e.target==t&&$(t).fadeOut("fast")});for(var o=0;o<a.length;o++)a[o].addEventListener("click",function(){$(t).fadeOut("fast")})}}function hideModal(e,t){var a=document.getElementsByClassName(e)[0];switch(t){case"fadeOut":$(a).fadeOut("fast");break;default:$(a).fadeOut("fast")}}for(var buttons=document.getElementsByClassName("openModal"),i=0;i<buttons.length;i++)buttons[i].addEventListener("click",function(){var e=$(this).attr("data-modal");displayModal(e)});if(!checkCookie("cookiebanner-accepted")){var x=setTimeout(function(){displayModal("cookiebanner")},1e3);setCookie("cookiebanner-accepted",1,90)}window.onscroll=function(){(document.body.scrollTop>450||document.documentElement.scrollTop>450)&&hideModal("cookiebanner","fadeOut")},window.onload=function(){var e=urlHasParam("om",null);null!=e&&displayModal(e)};